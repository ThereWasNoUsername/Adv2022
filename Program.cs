// See https://aka.ms/new-console-template for more information

using System.Reflection.Metadata.Ecma335;
using System.Text.RegularExpressions;

p5();
void p1a() {
    var data = @"9524
12618
6755
2121
12876
11330

4029
11446
11571
2683
3454
12411

6226
9901
6735
7602
4045
4643
5047
2329

5576
23361
16052

5523
12113
3128
5978
4683
3458

32135
15179

7380
9715
5985
9547
9207
6882
4407
1688

9175
4868
3374
6053
5304
4585
1344
5036

4807
1180
6655
4572
3864
4674
6759
6861
4273
2387
1085
1598

1807
13594
13712
7385

6607
6858
3872
5554
5802
1174
5234
6082
6672
4180
1491
4111
1721

6508
4569
2836
7992
2876
4464
5023
2920
3794
6274

3229
2998
15582
12963
14718

32390

2517
6446
6777
5881
7923
5523
4904
3018
5737
4826

5911
6152
2479
3949
3427
5924
6432
6746
6878
5884
3309
3674
2026

11177
1872
15245
16212
6512

23534
21079

5725
8219
7284
1011
1903
2835

3194
3712
5969
6069
4264
4616
5424
5382
4772
1908
1707
2222
2778
3712

10329
26374

4180
3086
5044
1980
5636
2776
5399
3898
1353
4864
5504
5631
3373

11290
1294
2117
13739
9724
11236

9653
13620
20041
8914

29248
32773

2316
3761
4458
4592
5963
2118
6079
2024
3928
4745
2965
1748
2824
5740
5189

1307
5004
2336
7721
1757
5155
4671
2734
4884
5549

16255

4892
4077
1163
7588

4887
4197
3782
5889
6735
5729
2783
3170
3062
6874
5479

4352
3701
5794
4775
1622
2128
1063
1009
1702
4405
4455
1304
5133
1374
2677

6261
1307
5579
6582
6098
5375
4876
4747
3285
6389
2660

68718

3578
5102
3755
2031
6961
6433
6081
2957
1770
1280
4229
7081

9388
11343
5178
2164
10275
6054
5742

8550
7983
8330
8883
9575
9300
8453
6367
5770

5374
5460
5590
6433
5785
3128
1194
5369
3032
6351
2210
4725
2942
5483

28182

36912
27721

15006
4561
2828

2120
4019
4685
1360
4315
2733
1546
3986
3071
4308
6705
1480
2075

4452
7034
6770
8934
8125
6333
2856
7908
5145

2068
1714
6972
5061
6633
4180
5603
5186
6986
3112
5696

1164
4408
7118
7230
1636
5958
2070
2091
3158
6631

6888
5446
3132
1888
2668
1529
1568
1901
4708
2815
8079

2394
1604
6133
1886
2648
3636
2998
5510
1422
5184
3436
6317
3481
3109

13992
8555

3038
5447
5010
10502
9033
4127
9385
7438

5561
14448
15742
9477
15244

1824
7913
3167
2770
6853
5049
8970
3980
3792

5263
1495
6398
3191
1787
4516
4528
1984
2209
2937
1917

7093
4995
11710
8145
2509
11002
2329

2772
9223
7429
5951
5211
5390
9636
5015
9576

9143
19336
8940
14860

1615
2033
1853
3334
10998
5591
10429

3400
6270
6159
1199
6841
1411
2272
2298
8236

2641
9002
8338
13253
9830

2121
6314
5463

16712

20041
15769
6691
8310

17869
15266
3313

3453
4166
6214
4735
6756
7020
4624
4679
1779
3429
1133
4630

2207
16017
2824
13752
6355

13493
12177
9701
1146
2421

6461
5774
5822
5873
7594
7653
6871
7934
6083
4111
7399

14561
4204
17338
9054

5551
2880
4587
7339
7793
8194
5359
8702
6846

4827
6451
2666
7916
2321
2258

7352

17612
30650

13845
9073
7678
15430
3256

13079
12502
8332
12919

15980
14653
5439
2880
15145

26007

18376
8663
11423
7152

3832
5843
3919
5658
1615
5840
3009
5725
2639
5239
4380
2298
4618
2586

15785
8518
4131
8614

4718
5897
7178
2031
3409
7218
6794
8699
4119
6928

2129
2231
2489
5616
1467
2225
5657
4127
6286
5359
4725
1819
5550

6079
7050
13912
13912
12870
4966

5974
3386
2793
4898
2975
3865
5974
3655
3838
1822
3322
1610
5610
3243

4090
1110
4663
2618
1587
3417
4401
3837
2593
4503
1746
4797
1821
3502
2592

4955
4020
13061
7532
12446

4084
1491
5988
6646
2061
2083
1761
5146
4656
5620
3959
6133
3161

9795
2854
6539
1197
7913
6560
1912
5636

3964
6541
3226
3536
6335
6956
3656
4149
6859
4609
4456
2856
3395

16002
11740
6583

8056
21295
6331

12521
14781
2837
18442

7673
12780
3682

2104
2166
4813

5722
5243
3506
4961
3587
5584
8571
6724
6901
5278

3464
4099
2514
6217
2209
6501
5950
3218
4821
3121
4106
4451
1228

5147
5877
1170
4801
4153
3710
1673
5553
5992
5173
4277
1451
5158
3766
3191

12693
13232
5554
12330
7602
6490

1168
14381
11380
6522
4822

3956
12204
1708
13838
7704
5066

5436
3448
4345
7430
6934
1717
4553
4683
7091
5718
4289
1140

2321
1291
2159
7409
3502
4266
2190
5307
1971
2217

8168
4475
7287
9416
6264
2691
4551
5109
3286

31132
31889

6154
6665
7026
11383
13857
8357

10312
3810
7818
6172
7615
9201
1937

9067
6897
4655
5091
2824
7062
1336
1835
3831

4839
5218
6044
4868
6466
4237
2814
2210
3365
6128
2713
5229
4600
1466

1225
5350
3013
1102
7614
3002
4451
2059
1843
6158

57499

2273
8394
9347
4833
9001
8823
7674
1882
9235

3759
7106
1671
1596
7855
3616
4858

4966
6050
2267
2082
3664
1812
4412
6457
5080
3280
6407
3124
5993
2142

2728
2912
1566
5990
7139
1082
6536
1213

6118
4821
3134
5633
3091
3618
5465
4116
1577
2776
4592
4923
5812

12233
1056
12928
6106

8177
12942
13879
2729
11070
7560

3359
1950
3396
7128
1724
6590
5952
2255
1022
5923
4381
2670

5619
5474
2892
5214
2677
4596
4314
2790
4749
6478
6865
3755
3747

1888
4764
5673
6832
8312
5569
3874
1831
1742
1953

6154
5064
2106
11402
8462

7116
2820
5625
5143
3055
1554
4279
5644
1908
6292
4492

7544
6590
6098
7178
7354
1570
8934
1544
6880

66910

12946

6226
7319
12112
6817
8025
2668

2630
1137
2881
2123
4994
3215
3315
2353
4031
4151
1609
5278

13286
5182
14123

6100
4344
7043
9434
6107
3579
1697
3166
3414

11329
35988

5631
7749
1074
4825
2650
6835
6433
5946
4203
4514
2944

7860
1341
2546
10857
11814
11301
9280

5318
8457
6221
1419
1715
6222
9581
5606
2293

9296
11898
8802
3804
1796
13910

12885
10836
17345
7449

2666
2481
6683
1783
4880
5339
5075
1043
6314
1440
5100
1647
2095

4698
7755
2595
1730
5954
3714
5023
4167
2202
4679
1165

4431
3109
3055
1713
1848
4118
1730
2280
1079
3688
1569
2995
4061

3757
4427
4747
2214
3723
1434
7512
1878
3167

2122
17054
9678
8169

2437
3160
2215
3949
2996
4494
1615
5174
6019
6055
3186
3229
5248
5656
1847

4314
5032
5345
3719
2918
3847
2708
1834
2603
2200
3822
6052
2997
1540
1846

3626
1064
5420
3228
1444
5662
5600
4544
5177
2309
2186
2638
3164
5703
6079

28701
30412

11849
11080
24418

3926
4456
3783
3058
1752
4944
6732
6587
2578
3490
1730

3862
12513
6788
4010
1427
1098

9313
8444
16375
14666
15215

2819
1623
4195
1981
2908
4730
2621
4136
4824
3588
2979
1583
1776
1845
3772

3668
3119
4402
5814
4507
3147
4834
1171
4102
5458
4930
5098
1284
5117

3889
7447
1031
6800
4884
6483
1577
7164
2778
6216
3167
5458

12710
14353
9583
5759
16081

3156
4905
4799
2502
7230
6169
2350
4196
4384
5939
2889
1349

4978
5247
10881
3833
13656
8822

4063
3379
4073
3091
2733
4759
5051
5605
3114
2039
6049
4568
5013
1991
4239

22021
21472
15888

23871
33564

1475
1319
6422
2086
1101
2435
1661
6011
5927
4798
4770
4860
4821
6438

45424

3704
6982
7230
4807
6677
6131
2698
3048
4914
3656
4707

1883
5114
2366
2220
3239
2574
3754
2711
6984
7464
6208

5881
5964
5999
4260
2501
3387
3112
5323
4895
3715
2183
2900
4867
1975
3961

5874
3960
5490
6056
5222
6205
1153
5491
4156
3921
4369
1195

1540
3601
6238
2433
5286
1272
1567
2425
5797
5222
3213
6021
6519

17672
19343
11461
8143

6489
5442
4307
1773
4716
1220
5407
2997
4763
2629
5102

6014
6309
4072
8155
7481
6771
8686
5980
6754
5761

69172

4781
6068
4342
6091
4340
5890
2973
4214
2884
1782
3622
3240
2185
1947
4634

11595
22943

1583
9915
2518
3285
12248

56794

1266
8056
3268
7231
3018
2774
2415
5377
4227
5428
1113

3527
5534
4501
8409
3396
5553
10346

2931
4457
6108
5058
3393
5132
2076
4461
3353
4568
2182
2493
3285
1592
5370

15869
8031

6349
5106
1725
4758
5364
3316
4235
4813
4421
1682
2133
3691

39362

1243
6663
7560
10078
1589
8782
9184
9149

4761
21813
24493

8335
9413
5100
7001
4090
6375
9420
6864
3263

2101
3950
6076
1739
5749
4174
5849
5463
4750
5934
4202
6119
1588
1637

3545
4228
7420
10436
5854
10021
7383

2430
5591
3145
13825

14058
4268
12789
11917
2470

4661
1018
4383
4852
1090
5644
3953
1204
2819
3500
2749
5615
3939
5118
3128

2882
3718
2670
2190
1495
3551
5497
3264
6484
6199
2011
4157
5896
6046

34056

2090
8624
11777

7414
4519
1108
8667
8481
5032
10813

3466
9107
2058
1813
2236
8430
2923
7801
7506

3315
1937
2698
1647
3083
5874
4801
4649
1311
5306
4655
4981
2325
2130
2261

37135

1831
4702
5322
5424
4620
3951
1275
1074
1767
4751
2512
4367
2623
6175

23083
30515

1765
3327
5205
4124
2834
5524
1945
4393
3958
1021
4989
1142
1960

11170
3970
11159
5081
5508
9043
6180

6216
3861
1281
1935
2128
1550
5869
4139
6307
5320
4740
5970
4039

8019
1455
3994
10337
3779
7604
9614
7636

5463
10532
13499

3967
4866
2889
4428
1896
2064
3350
2802
5240
5626
1206
2169
3757
3481

26031
10122

12480
5566
21219

57426

17286
1875
6596
2739

2182
4147
2513
4571
1569
2946
1972
3032
3580
5820
4722
3358
4456
2945
1417

16228
13578
12393
13426

4372
5930
4010
5308
3557
6006
2054
4331
4274
1501
1532
2900
3255
6106
6061

9386
18674
17741
14487

4117
5801
4046
2354
3552
4774
2218
4651
4221
6622
3388
2588

7925
5719
2382
6087
7799
5066
5100
4925
5764
5262
6232

12700
2207

7062
9723
4933
8313
8988
9771
8549
10278

10827
4384
3514
12710
12592
2531

15038
13852
2993
6765
1799

19487
10768

2715
7932
12032
10044
3722

2465
6819
3758
7537
1607
3958
2502
7743
1448
6763
7543

3664
6265
2609
1884
5972
4086
4523
6108
5073
5407
4410
2353
3627
4617

5816
2375
7279
6266
4691
6941
6754
1496
5536
1911
4220

3776
1762
5809
8808
1028
1768
7751
2274
5136
4402

19168
27638

16145
17357
7612
10493

6387
6862
6673
5873
6094
4189
3313
3217
3310
1580
4793
5262
2933

22224
11444

6708
1285
1573
2512
4161
2397
5196
2829
2105
5197

3478
4256
1755
3308
1105
2738
4607
3867
2306
3615
2686
5102
5659
3177
4846

13577
14550
5133
11050
7976

2082
5860
3018
8157
2087
1462
2164
2651
6380
3549

1849
4313
9018
5235
5785
3287
1464
6853
2251

4937
4124
4119
2485
3358
5815
4338
2249
5615
5378
1533
1035
2194
1521

24714
16695
23212

1679
1745
5214
4118
6052
4962
3633
3355
2768
2857
2124
4280
4754
1535
2400

5507
5947
7455
6774
2836
2126
3098
1685
6404
4302
4508
1739

3315
18956
13505
17849

7127
2867

4170
3426
2878
4025
3745
4267
2678
6439
1986
3401
1323
4225
6003
5156

5715
8382
2666
14581
11008

31882
15152

3976
2654
4849
2090
5774
1173
2645
4282
3014
3082
6723
6860
2129

5783
8750
4604
7494
5460
6231
4198
5747
7406
7529

1360
17274
9730
13453

3154
8490
5069
6268
4530
2929
7829
9000
4835

1441
3255
5210
1328
1628
3809
2422
3055
4402
2905
2375
2369
5513
4352
3749

3015
2463
8928
8067
9196
4077
5189
2392
2574

1847
3374
3505
3451
2323
5703
1466
5226
1553
7253
1835
6210

4886
5970
2459
4117
3866
5168
5914
6819
2291
6510
6039
4553
2686

5613
1938
5481
3692
5223
1505
3628
1095
4340
2681
5657
1811
1233

2815
7505
3875
1236
2028
3022
8262
6240
6295
7060

45267

16209
17734

3318
1727
4971
5208
8009
8009
6117
7870
4824
7741
1278

1854
4926
3228
6199
1312
2417
4413
1801
4145
4604
4296
5636
5169
6081

7523
3390
2318
8663
7609
1722
5343
8124
1579
2959

4172
21931
22824

2561
3470
3018
6387
4774
5611
4904
5883
6144
4977
1863
1613
3160
4236

3059
2276
1441
3886
2204
3853
3910
5347
5630
5721
6630";
    Console.WriteLine(data.Replace("\r", "").Split("\n\n")
        .Select(section =>
            section.Split("\n").Select(line => int.Parse(line)).Sum()
            ).Max());
}
void p1b() {
    var data = @"9524
12618
6755
2121
12876
11330

4029
11446
11571
2683
3454
12411

6226
9901
6735
7602
4045
4643
5047
2329

5576
23361
16052

5523
12113
3128
5978
4683
3458

32135
15179

7380
9715
5985
9547
9207
6882
4407
1688

9175
4868
3374
6053
5304
4585
1344
5036

4807
1180
6655
4572
3864
4674
6759
6861
4273
2387
1085
1598

1807
13594
13712
7385

6607
6858
3872
5554
5802
1174
5234
6082
6672
4180
1491
4111
1721

6508
4569
2836
7992
2876
4464
5023
2920
3794
6274

3229
2998
15582
12963
14718

32390

2517
6446
6777
5881
7923
5523
4904
3018
5737
4826

5911
6152
2479
3949
3427
5924
6432
6746
6878
5884
3309
3674
2026

11177
1872
15245
16212
6512

23534
21079

5725
8219
7284
1011
1903
2835

3194
3712
5969
6069
4264
4616
5424
5382
4772
1908
1707
2222
2778
3712

10329
26374

4180
3086
5044
1980
5636
2776
5399
3898
1353
4864
5504
5631
3373

11290
1294
2117
13739
9724
11236

9653
13620
20041
8914

29248
32773

2316
3761
4458
4592
5963
2118
6079
2024
3928
4745
2965
1748
2824
5740
5189

1307
5004
2336
7721
1757
5155
4671
2734
4884
5549

16255

4892
4077
1163
7588

4887
4197
3782
5889
6735
5729
2783
3170
3062
6874
5479

4352
3701
5794
4775
1622
2128
1063
1009
1702
4405
4455
1304
5133
1374
2677

6261
1307
5579
6582
6098
5375
4876
4747
3285
6389
2660

68718

3578
5102
3755
2031
6961
6433
6081
2957
1770
1280
4229
7081

9388
11343
5178
2164
10275
6054
5742

8550
7983
8330
8883
9575
9300
8453
6367
5770

5374
5460
5590
6433
5785
3128
1194
5369
3032
6351
2210
4725
2942
5483

28182

36912
27721

15006
4561
2828

2120
4019
4685
1360
4315
2733
1546
3986
3071
4308
6705
1480
2075

4452
7034
6770
8934
8125
6333
2856
7908
5145

2068
1714
6972
5061
6633
4180
5603
5186
6986
3112
5696

1164
4408
7118
7230
1636
5958
2070
2091
3158
6631

6888
5446
3132
1888
2668
1529
1568
1901
4708
2815
8079

2394
1604
6133
1886
2648
3636
2998
5510
1422
5184
3436
6317
3481
3109

13992
8555

3038
5447
5010
10502
9033
4127
9385
7438

5561
14448
15742
9477
15244

1824
7913
3167
2770
6853
5049
8970
3980
3792

5263
1495
6398
3191
1787
4516
4528
1984
2209
2937
1917

7093
4995
11710
8145
2509
11002
2329

2772
9223
7429
5951
5211
5390
9636
5015
9576

9143
19336
8940
14860

1615
2033
1853
3334
10998
5591
10429

3400
6270
6159
1199
6841
1411
2272
2298
8236

2641
9002
8338
13253
9830

2121
6314
5463

16712

20041
15769
6691
8310

17869
15266
3313

3453
4166
6214
4735
6756
7020
4624
4679
1779
3429
1133
4630

2207
16017
2824
13752
6355

13493
12177
9701
1146
2421

6461
5774
5822
5873
7594
7653
6871
7934
6083
4111
7399

14561
4204
17338
9054

5551
2880
4587
7339
7793
8194
5359
8702
6846

4827
6451
2666
7916
2321
2258

7352

17612
30650

13845
9073
7678
15430
3256

13079
12502
8332
12919

15980
14653
5439
2880
15145

26007

18376
8663
11423
7152

3832
5843
3919
5658
1615
5840
3009
5725
2639
5239
4380
2298
4618
2586

15785
8518
4131
8614

4718
5897
7178
2031
3409
7218
6794
8699
4119
6928

2129
2231
2489
5616
1467
2225
5657
4127
6286
5359
4725
1819
5550

6079
7050
13912
13912
12870
4966

5974
3386
2793
4898
2975
3865
5974
3655
3838
1822
3322
1610
5610
3243

4090
1110
4663
2618
1587
3417
4401
3837
2593
4503
1746
4797
1821
3502
2592

4955
4020
13061
7532
12446

4084
1491
5988
6646
2061
2083
1761
5146
4656
5620
3959
6133
3161

9795
2854
6539
1197
7913
6560
1912
5636

3964
6541
3226
3536
6335
6956
3656
4149
6859
4609
4456
2856
3395

16002
11740
6583

8056
21295
6331

12521
14781
2837
18442

7673
12780
3682

2104
2166
4813

5722
5243
3506
4961
3587
5584
8571
6724
6901
5278

3464
4099
2514
6217
2209
6501
5950
3218
4821
3121
4106
4451
1228

5147
5877
1170
4801
4153
3710
1673
5553
5992
5173
4277
1451
5158
3766
3191

12693
13232
5554
12330
7602
6490

1168
14381
11380
6522
4822

3956
12204
1708
13838
7704
5066

5436
3448
4345
7430
6934
1717
4553
4683
7091
5718
4289
1140

2321
1291
2159
7409
3502
4266
2190
5307
1971
2217

8168
4475
7287
9416
6264
2691
4551
5109
3286

31132
31889

6154
6665
7026
11383
13857
8357

10312
3810
7818
6172
7615
9201
1937

9067
6897
4655
5091
2824
7062
1336
1835
3831

4839
5218
6044
4868
6466
4237
2814
2210
3365
6128
2713
5229
4600
1466

1225
5350
3013
1102
7614
3002
4451
2059
1843
6158

57499

2273
8394
9347
4833
9001
8823
7674
1882
9235

3759
7106
1671
1596
7855
3616
4858

4966
6050
2267
2082
3664
1812
4412
6457
5080
3280
6407
3124
5993
2142

2728
2912
1566
5990
7139
1082
6536
1213

6118
4821
3134
5633
3091
3618
5465
4116
1577
2776
4592
4923
5812

12233
1056
12928
6106

8177
12942
13879
2729
11070
7560

3359
1950
3396
7128
1724
6590
5952
2255
1022
5923
4381
2670

5619
5474
2892
5214
2677
4596
4314
2790
4749
6478
6865
3755
3747

1888
4764
5673
6832
8312
5569
3874
1831
1742
1953

6154
5064
2106
11402
8462

7116
2820
5625
5143
3055
1554
4279
5644
1908
6292
4492

7544
6590
6098
7178
7354
1570
8934
1544
6880

66910

12946

6226
7319
12112
6817
8025
2668

2630
1137
2881
2123
4994
3215
3315
2353
4031
4151
1609
5278

13286
5182
14123

6100
4344
7043
9434
6107
3579
1697
3166
3414

11329
35988

5631
7749
1074
4825
2650
6835
6433
5946
4203
4514
2944

7860
1341
2546
10857
11814
11301
9280

5318
8457
6221
1419
1715
6222
9581
5606
2293

9296
11898
8802
3804
1796
13910

12885
10836
17345
7449

2666
2481
6683
1783
4880
5339
5075
1043
6314
1440
5100
1647
2095

4698
7755
2595
1730
5954
3714
5023
4167
2202
4679
1165

4431
3109
3055
1713
1848
4118
1730
2280
1079
3688
1569
2995
4061

3757
4427
4747
2214
3723
1434
7512
1878
3167

2122
17054
9678
8169

2437
3160
2215
3949
2996
4494
1615
5174
6019
6055
3186
3229
5248
5656
1847

4314
5032
5345
3719
2918
3847
2708
1834
2603
2200
3822
6052
2997
1540
1846

3626
1064
5420
3228
1444
5662
5600
4544
5177
2309
2186
2638
3164
5703
6079

28701
30412

11849
11080
24418

3926
4456
3783
3058
1752
4944
6732
6587
2578
3490
1730

3862
12513
6788
4010
1427
1098

9313
8444
16375
14666
15215

2819
1623
4195
1981
2908
4730
2621
4136
4824
3588
2979
1583
1776
1845
3772

3668
3119
4402
5814
4507
3147
4834
1171
4102
5458
4930
5098
1284
5117

3889
7447
1031
6800
4884
6483
1577
7164
2778
6216
3167
5458

12710
14353
9583
5759
16081

3156
4905
4799
2502
7230
6169
2350
4196
4384
5939
2889
1349

4978
5247
10881
3833
13656
8822

4063
3379
4073
3091
2733
4759
5051
5605
3114
2039
6049
4568
5013
1991
4239

22021
21472
15888

23871
33564

1475
1319
6422
2086
1101
2435
1661
6011
5927
4798
4770
4860
4821
6438

45424

3704
6982
7230
4807
6677
6131
2698
3048
4914
3656
4707

1883
5114
2366
2220
3239
2574
3754
2711
6984
7464
6208

5881
5964
5999
4260
2501
3387
3112
5323
4895
3715
2183
2900
4867
1975
3961

5874
3960
5490
6056
5222
6205
1153
5491
4156
3921
4369
1195

1540
3601
6238
2433
5286
1272
1567
2425
5797
5222
3213
6021
6519

17672
19343
11461
8143

6489
5442
4307
1773
4716
1220
5407
2997
4763
2629
5102

6014
6309
4072
8155
7481
6771
8686
5980
6754
5761

69172

4781
6068
4342
6091
4340
5890
2973
4214
2884
1782
3622
3240
2185
1947
4634

11595
22943

1583
9915
2518
3285
12248

56794

1266
8056
3268
7231
3018
2774
2415
5377
4227
5428
1113

3527
5534
4501
8409
3396
5553
10346

2931
4457
6108
5058
3393
5132
2076
4461
3353
4568
2182
2493
3285
1592
5370

15869
8031

6349
5106
1725
4758
5364
3316
4235
4813
4421
1682
2133
3691

39362

1243
6663
7560
10078
1589
8782
9184
9149

4761
21813
24493

8335
9413
5100
7001
4090
6375
9420
6864
3263

2101
3950
6076
1739
5749
4174
5849
5463
4750
5934
4202
6119
1588
1637

3545
4228
7420
10436
5854
10021
7383

2430
5591
3145
13825

14058
4268
12789
11917
2470

4661
1018
4383
4852
1090
5644
3953
1204
2819
3500
2749
5615
3939
5118
3128

2882
3718
2670
2190
1495
3551
5497
3264
6484
6199
2011
4157
5896
6046

34056

2090
8624
11777

7414
4519
1108
8667
8481
5032
10813

3466
9107
2058
1813
2236
8430
2923
7801
7506

3315
1937
2698
1647
3083
5874
4801
4649
1311
5306
4655
4981
2325
2130
2261

37135

1831
4702
5322
5424
4620
3951
1275
1074
1767
4751
2512
4367
2623
6175

23083
30515

1765
3327
5205
4124
2834
5524
1945
4393
3958
1021
4989
1142
1960

11170
3970
11159
5081
5508
9043
6180

6216
3861
1281
1935
2128
1550
5869
4139
6307
5320
4740
5970
4039

8019
1455
3994
10337
3779
7604
9614
7636

5463
10532
13499

3967
4866
2889
4428
1896
2064
3350
2802
5240
5626
1206
2169
3757
3481

26031
10122

12480
5566
21219

57426

17286
1875
6596
2739

2182
4147
2513
4571
1569
2946
1972
3032
3580
5820
4722
3358
4456
2945
1417

16228
13578
12393
13426

4372
5930
4010
5308
3557
6006
2054
4331
4274
1501
1532
2900
3255
6106
6061

9386
18674
17741
14487

4117
5801
4046
2354
3552
4774
2218
4651
4221
6622
3388
2588

7925
5719
2382
6087
7799
5066
5100
4925
5764
5262
6232

12700
2207

7062
9723
4933
8313
8988
9771
8549
10278

10827
4384
3514
12710
12592
2531

15038
13852
2993
6765
1799

19487
10768

2715
7932
12032
10044
3722

2465
6819
3758
7537
1607
3958
2502
7743
1448
6763
7543

3664
6265
2609
1884
5972
4086
4523
6108
5073
5407
4410
2353
3627
4617

5816
2375
7279
6266
4691
6941
6754
1496
5536
1911
4220

3776
1762
5809
8808
1028
1768
7751
2274
5136
4402

19168
27638

16145
17357
7612
10493

6387
6862
6673
5873
6094
4189
3313
3217
3310
1580
4793
5262
2933

22224
11444

6708
1285
1573
2512
4161
2397
5196
2829
2105
5197

3478
4256
1755
3308
1105
2738
4607
3867
2306
3615
2686
5102
5659
3177
4846

13577
14550
5133
11050
7976

2082
5860
3018
8157
2087
1462
2164
2651
6380
3549

1849
4313
9018
5235
5785
3287
1464
6853
2251

4937
4124
4119
2485
3358
5815
4338
2249
5615
5378
1533
1035
2194
1521

24714
16695
23212

1679
1745
5214
4118
6052
4962
3633
3355
2768
2857
2124
4280
4754
1535
2400

5507
5947
7455
6774
2836
2126
3098
1685
6404
4302
4508
1739

3315
18956
13505
17849

7127
2867

4170
3426
2878
4025
3745
4267
2678
6439
1986
3401
1323
4225
6003
5156

5715
8382
2666
14581
11008

31882
15152

3976
2654
4849
2090
5774
1173
2645
4282
3014
3082
6723
6860
2129

5783
8750
4604
7494
5460
6231
4198
5747
7406
7529

1360
17274
9730
13453

3154
8490
5069
6268
4530
2929
7829
9000
4835

1441
3255
5210
1328
1628
3809
2422
3055
4402
2905
2375
2369
5513
4352
3749

3015
2463
8928
8067
9196
4077
5189
2392
2574

1847
3374
3505
3451
2323
5703
1466
5226
1553
7253
1835
6210

4886
5970
2459
4117
3866
5168
5914
6819
2291
6510
6039
4553
2686

5613
1938
5481
3692
5223
1505
3628
1095
4340
2681
5657
1811
1233

2815
7505
3875
1236
2028
3022
8262
6240
6295
7060

45267

16209
17734

3318
1727
4971
5208
8009
8009
6117
7870
4824
7741
1278

1854
4926
3228
6199
1312
2417
4413
1801
4145
4604
4296
5636
5169
6081

7523
3390
2318
8663
7609
1722
5343
8124
1579
2959

4172
21931
22824

2561
3470
3018
6387
4774
5611
4904
5883
6144
4977
1863
1613
3160
4236

3059
2276
1441
3886
2204
3853
3910
5347
5630
5721
6630";
    Console.WriteLine(data.Replace("\r", "").Split("\n\n")
        .Select(section =>
            section.Split("\n").Select(line => int.Parse(line)).Sum()
            ).OrderByDescending(i => i).Take(3).Sum());
}
void p2a() {
    var data = @"C Z
C Y
B X
A Z
C Z
B X
C Z
B Z
A Z
A Z
B Z
B X
C Z
C Z
A Z
B Y
B X
C Y
B X
B X
A Y
A Z
A Z
A Z
A Z
C Z
A Z
C Z
B X
A X
A Z
B Y
B X
A Z
B X
C Z
A Z
C Z
A Z
A Z
B X
C X
B X
A X
B X
A Z
A Z
B X
B Y
B Y
B Y
C Z
A Z
A Z
C X
B X
C Y
B X
C Z
A Z
C Z
B X
B X
B Z
B X
A Z
C Z
A Z
A Z
A Z
A Z
B X
C Z
C Y
A Z
A Z
A Z
A Z
C Z
A X
A Z
A Z
C Z
C Y
A Z
C Y
A Z
A Z
C Y
C Z
C Z
A Z
B Y
B X
B Y
C Z
A Z
A Z
A Z
B Z
C Z
A Z
B X
C Y
A Z
B X
A Z
B Z
A Z
B X
A Z
B Y
A Z
A Z
C Y
A Z
B Z
A Z
A Y
B Y
C Z
A Z
B X
C Z
C Z
B X
C Z
C Z
A Z
B X
C Z
C Z
A Z
C Y
A Z
A Z
B Y
C Y
A Z
B X
B Y
B X
B X
A Z
C Y
A Z
C Y
A Z
B Y
C Z
A Z
A Z
C Y
A Z
A Z
C Z
A Z
A Z
A Z
C Y
A Z
B X
C Z
A Z
C Z
B Z
C Z
A Z
C Y
B X
C Z
C Z
A Z
C Y
A Z
B Y
B X
A Z
C Y
C Z
B X
C X
B X
C Y
B X
B X
C Z
B X
A Z
C X
A Z
C Z
B X
C Y
A Z
A Z
C Z
C Y
A Z
A Z
A Z
B X
A Y
B X
C X
C Z
B X
C Z
C X
A Z
C Z
B Z
A X
A Z
C Y
A Z
C Z
C Z
B X
C Z
A X
C Y
C Z
C Z
C Z
B Y
C X
B X
A Z
B Y
A Z
A Z
C Y
A Z
B X
A Y
A Y
C Y
A Z
A Z
C Z
A Z
A Z
A Z
B Y
B X
B X
A Z
C X
C Y
A Z
C Z
A Z
A Z
A Z
A Z
A X
A Z
C Z
A Z
B Y
A Y
A Y
C Y
C Y
B X
B Y
A Z
A Z
C X
A Z
B X
C Y
A Y
A Y
A Z
C Y
C Z
B X
A Z
C Y
B X
C Z
A Z
B X
A Z
C Y
B X
C Z
A Z
A Z
A Y
A Z
A Z
C Y
C Z
A Z
B X
C Z
C Y
A Z
A Z
C Y
A Z
C Z
B X
A Z
C Z
A Z
A Z
A Z
C Y
C Y
B X
B Z
B X
A Z
B Y
B Y
A Z
A Z
A Z
B Y
B Y
C Y
A Y
A Z
C X
B X
A Y
B Y
C Y
A Z
B Z
C Y
C Z
B X
A Z
A X
B X
C Y
B Z
A Z
B Y
A Z
B X
A Z
B X
A Z
C X
C Y
C Z
B X
C Z
C Y
A Z
C X
C Z
A Z
C Y
A Y
C Y
C Y
B Y
A Z
A Z
A Y
A Z
C Z
B X
A Y
B X
B Y
B X
A Z
C Z
C Z
C Y
B X
C Z
A X
A Z
A Z
A Y
A Z
A Z
A Z
A Z
B Z
B X
B X
C Y
C Z
C Z
A Y
B X
C Z
C X
C Z
B Y
A Z
B X
B Y
B X
A Z
B X
B X
A Z
A Z
C X
B X
C Z
C X
A Z
A X
C Z
A Z
A Z
C Z
B Z
C Z
B X
A Z
A Z
C Z
A Y
A Z
A Z
C Y
A Z
B X
B Y
A Z
A Y
A X
B X
A Z
A Z
C Y
C Y
A Z
C X
A Z
A Y
A Z
B Y
A Z
A Y
B X
C Z
A Z
B X
A Z
A Z
B X
A Z
A Z
B X
A Z
C Y
A Z
C Z
C Y
B Y
B X
A Z
B Y
A Z
A Z
B X
A Z
A Z
B X
C Z
A Z
C Z
B X
B X
B Y
A Y
C Y
B X
A Z
C Z
A Z
A Z
A Z
B X
A Z
B X
A Z
A Z
A Z
C Z
A X
B X
B Z
A Z
A Z
C Z
A Z
A Z
A Z
B Y
A Y
C Z
B X
B X
C Y
A Y
A Z
C X
B Z
A Z
A Z
C Z
A Z
A Y
B Y
C Z
B X
A Z
A Z
A Z
C Z
A Z
A Y
B X
C Y
A Z
A Z
A Z
C X
B X
A Z
A Z
C Z
B X
A Z
A Z
A Z
A Z
A Z
A Z
C Y
A Z
B X
A Y
C Y
A Z
A Z
B X
A Z
B Y
A Y
B X
A X
A Z
C Z
C Z
C Y
A Z
B Y
A Z
C X
A Z
A Z
B X
A Z
A Z
B Y
A Y
A Z
A Z
B X
C Y
B X
B Y
C Y
C X
A Z
A Z
B Y
A Z
B Y
C Y
C Y
A Z
C Y
A Z
C Z
A Z
B X
A Z
A Z
A X
A Z
A Z
A Z
A Z
B Z
C X
B Y
A Z
C Z
A Z
A Z
A Z
C Z
B X
A Z
B X
C Y
C Z
A Z
A Z
C Z
B X
B X
A Z
A Z
B X
A Z
A Z
C Z
A Z
A Z
A X
C Z
C Y
A Z
A Z
A Z
A Z
C Z
A Z
A Z
B Z
A Z
C Y
A Z
A Z
B Y
A Z
A Z
B X
A Z
B X
A Z
A Z
C Y
A Y
C Y
B Z
B X
B Y
A Z
A Z
C Y
A Z
A Y
B Z
A Z
C Y
A Z
A Z
A X
A Z
B Y
B Y
A Z
A Z
A Z
C Z
C Z
A Y
C Y
B X
A Y
B X
B Y
C X
C Y
C Y
A Z
C Z
A Z
A Z
A Z
B X
A Z
A Z
A Z
A Z
A Y
B X
A Z
A Z
B X
A Z
A Z
A Z
A Z
A X
C Y
B X
A Z
A Y
C Y
C Y
A X
A Z
C X
C Z
A Z
C X
A Z
A Z
B Y
A Z
A Z
A Z
B X
A Z
A Z
B X
B X
A Z
A Z
C Z
C Z
A Z
C Z
B X
A Z
A Z
B X
C Z
C Z
C Y
C Z
A Z
B X
A X
C Z
A X
C Z
A Z
A Z
A Z
A Z
A Z
B X
A Z
B X
C Y
A Z
A Z
A Z
C Z
A Y
A Y
B Y
A Z
A Z
C Y
C Z
B X
B X
A X
C Z
B X
A Z
A Z
A Z
B Z
A Z
C Y
B X
A Z
A Z
A Y
B Y
C Z
C Z
A Z
A Z
A Z
B Y
A Z
C Y
B X
B Z
C X
B X
C Y
A X
C Z
A Z
B X
C X
A Y
C X
A Z
B X
B X
A Z
A Z
C Z
B X
B Z
C Y
C Z
A Z
B Y
A Z
A Z
B X
C Y
A Z
C Z
A Z
B Z
C Z
C Z
A Z
C Y
A Z
A Z
A Z
C Z
C X
B Y
C Y
A Z
C Y
C Y
C X
C Y
A Z
C Y
C Y
C X
C X
A Z
B X
A Z
C Y
A Z
B X
B X
B X
B X
B X
B Y
A Z
A Z
C Z
A Z
A Z
A Z
C Z
C Z
C Z
A Z
A Z
A Y
A Z
A Z
A Y
A X
C Z
A Z
A Z
C Z
B X
C Z
B Y
C Z
A Y
A Z
C Y
B X
A Z
C Y
A Z
C Z
C Y
B X
A Z
A Z
A Z
A Z
A Z
C X
C Z
A Z
A Z
A Z
C Z
A Z
B X
A Z
A X
A Z
B X
A Z
C Z
A Z
A Y
B X
B Z
A Z
B X
A Z
A Z
B Y
A Z
A Z
C Y
B Y
C X
A Z
A Z
A Z
C Z
A Z
A Z
A Z
C Z
A Z
C Y
B X
A Z
A Z
C X
A Z
C Z
A Z
B Y
A Z
A Y
C Z
C Z
A Y
A Y
A Z
A X
A Z
A Z
B X
A Z
A Z
B X
C Z
A Z
A Y
B X
A Z
A Z
C Z
A Z
A Z
B X
B Z
A Z
A X
B Y
A Z
B X
A Z
C Z
B X
C Y
A Z
B X
A Z
A Z
A Z
B Z
A Z
C Z
A Z
C Z
B X
A Z
B Z
A Z
C Z
C Z
B Y
C Z
A Z
A Z
C Y
A Z
A Z
B X
B Y
C Z
A Z
C Z
A Z
C Z
A Z
B X
A X
B Y
A Z
C Z
A Z
C Z
C Y
B X
C Z
C Z
B Y
B X
C Z
B X
C Y
A Z
C Y
C Y
A Z
B X
A Z
C X
C Z
B Y
C Z
B Z
A Z
A Z
A Z
A Z
A Z
A Z
A Z
A Z
C Z
A Z
B Y
C Y
C X
C Y
B Y
B X
A Z
C Z
B X
B Y
A Z
B Y
A Z
A Y
B X
A Z
B X
A Z
C Z
A Z
A Z
A Z
C X
B Y
C Z
C Z
A X
C Z
A Z
C Z
B Y
A Z
B Y
A Z
A Z
A Z
B Z
C Z
A Z
A Z
A Z
A Z
A Z
A Y
A Z
C Z
A Z
C X
A Z
A Z
A Z
C Z
A Y
A Z
A Z
B Z
A Z
A Z
A Z
C Z
C Z
A Y
A Z
A X
C Y
C Y
B Z
A Y
C Z
A Z
C Z
C Z
A Z
A X
A Z
B Y
C Z
B Y
A Z
B X
A Z
A Y
A Z
A Z
A Z
C Z
A Z
A Z
A Z
C Z
A Z
C Z
C Z
C Y
A Z
B X
A Z
A Z
A Z
A Z
A Z
A Z
C X
C Z
C X
A Z
A Z
A Z
A Z
A Z
A Z
C Z
B Y
B X
A Z
C Z
B Z
A Z
C Y
A Z
C Z
A Z
C Z
A Z
A Z
A Z
C Z
A Z
C Y
A Z
A Z
A Z
A Z
A Z
C Z
C Y
A Z
C X
A Z
C X
C Z
C Z
A Z
A Z
B Y
B X
A Z
B X
A Z
A Z
A Z
C Z
B Z
A Z
A Y
B Y
A Z
C Z
B X
C X
C Y
C Y
C Z
C X
B X
A Z
B X
A Z
C Z
A Z
A Y
A Z
B X
A Y
A Z
A Y
C Y
A Y
A Z
A Z
B X
C X
A Z
A Z
A Z
A Z
A Z
A Z
A Y
B X
A Z
A Z
B Y
B X
A Z
A Z
B X
A Z
C Y
C Y
B Y
A Z
A Z
A Y
A Z
A Z
A Y
C Z
C Y
C Z
C X
C Z
C Y
A Z
A Z
C Z
B X
A Z
C Z
A Z
C Z
C X
B Y
C X
B X
C Z
B X
C Z
A Z
A Y
B Y
A Z
A Z
C X
C Y
A Z
B X
A Z
A Z
C Y
C Z
B X
B X
A Z
C X
A Z
B X
C Y
A Z
A Y
B X
C Y
B X
A X
A Z
A Z
A Z
C Z
B Y
C Z
B Y
A Z
A Z
C Z
B X
A Z
A Z
A Z
A Z
C Y
B X
A Z
C X
A Z
C Z
B Z
A Z
A Z
A Z
B Z
A Y
A Z
A Z
C Z
B Z
A X
B X
A Z
A Z
A Z
A Z
A Z
A X
C Z
A Z
C Z
B X
B X
C Y
B X
A Z
A Z
C Y
C Z
B X
C Y
A Y
B X
B X
C X
A Z
A Z
C Z
A Z
C Z
C Z
B X
A Z
B X
A Z
A Z
B Y
B Y
A Z
A Z
C Z
A Z
A Z
B X
A Z
C Z
C Z
B X
C Y
A Z
A X
B X
B X
B Y
B Y
A Z
C Z
A Z
C Z
A Z
C Y
B X
A Z
A Z
C Z
B X
A Z
C Y
A Z
A Z
A Z
B X
A Z
A Y
C Y
C Z
A Z
A Z
B X
C Y
A Z
C X
A Z
B X
A Z
A Z
B Y
B X
C Z
A Z
B X
A Y
A Z
B Z
A Z
C Y
B Y
C Z
C X
B X
A X
B X
B Z
B X
B Y
B X
C Y
B X
A Y
B Z
B X
C X
B X
A Z
A Z
B X
B X
A Z
A Z
C Y
B Y
A Z
A Z
A Z
C Z
A Z
B X
A Z
B X
A Z
A Z
A Z
A Z
C Y
C X
A Z
A Z
A Z
A Z
B Y
A Z
A Z
C Z
C Z
B X
A Z
A Z
B X
A Z
B X
C Y
B X
C Z
A Z
C Z
C Z
A Z
A Z
A Z
A Z
A Z
C X
C Z
B X
B X
B X
A Z
A Z
C Z
B X
A Z
C X
A Z
C Z
A Z
A Z
C Z
A Z
A X
B X
A Z
A Z
A X
A Z
B Y
A Z
A Z
A Z
C Y
C Y
A Z
C Y
C X
A Z
B Y
A Z
A Z
B Y
A Z
A Z
A Z
C Y
B X
A Z
A Z
A Z
A X
A Z
A Y
A Y
A Z
C Z
B Y
C Y
B X
B X
B X
A Z
A Z
A Z
C Y
A Z
B X
A Z
A Z
C Z
B X
A Z
A Z
C Z
A Z
C Y
A Z
B X
C Z
C Y
A Z
C X
A Y
B Z
C Z
C Y
A Z
A Z
A Z
A Y
A Y
C Y
B X
C Z
B X
C Y
B X
B X
A Z
A Z
C Z
A Z
B X
A Z
B X
C Y
C Z
A X
B X
B X
C Z
C Z
C Z
C Z
C Z
A X
A Z
B X
A Z
B X
A Z
A Z
A Z
B X
B Y
C Z
C Y
A Z
C Z
B X
C Z
A Z
C Z
A Z
A Z
A Z
B X
B Z
A X
B Y
C Z
A Z
A X
A Y
A Z
C Y
A Z
C Z
A Z
A Z
A X
A Z
A Y
B Z
A Z
A Z
B X
B Y
A Z
C Z
A Z
A Z
C Z
A Z
A Z
C Y
B X
B X
A Z
C Y
B Z
A Z
B X
B X
B X
B Y
C Z
B Z
A X
B X
A Y
A Z
B X
B X
A Z
B X
A Z
C Z
A Z
C Z
C Y
B X
B X
C X
A Z
A X
A Z
C Y
C Z
C Y
C Z
C Y
C Y
B X
B Y
A Z
C X
C Z
B X
C Z
C Z
B X
A Z
A Z
A Y
A Z
A Z
C Y
A Z
B X
A Z
A Z
C Y
A Z
A Z
B X
A Z
A Z
B Z
A Z
A Z
A Z
A Z
A Z
C Z
A Y
A Z
C Z
C Z
C Z
A Z
B X
B Y
A Z
C X
A Y
A Y
C Y
C Y
A Z
C Y
B X
C X
B X
C Y
A Z
A Y
B X
B X
A Z
A Z
A Z
A X
A Z
B X
B Y
A Y
C Z
B Y
A X
A Z
A X
A Z
A X
A Y
C Y
C Z
A Z
A Z
A Z
C Y
A Z
A X
A Z
A X
A Z
A Z
B X
C X
C Y
C Z
B X
A X
C Z
C Z
C X
A Z
C Z
C Y
A Z
C Z
C Z
B X
A Z
B Y
B X
B X
C Z
A Z
A Z
B X
B X
A Z
C Z
B X
A Y
B Z
C X
A Z
C Y
A Z
A Z
B X
C Z
C Y
A Z
B X
B Y
A Z
B X
B Z
C X
A Z
C Y
C Z
B X
C X
C Y
A X
C X
C Y
B Y
A Z
C Y
C Z
A Z
A Z
A Y
A Z
C Y
C X
B X
C Y
A Z
B Y
A Z
B X
A Z
C X
A Z
C Z
B Y
B Y
B Y
C Y
A Z
A Y
C Z
C Y
B Y
A Z
B Y
B X
A Z
B Z
A Z
A Z
A Z
C Y
A Z
B X
A Z
C Z
B X
B X
C Z
A Z
C Z
B Y
C Y
C Z
A Z
A Z
A Z
A Z
A Z
C Z
A Z
C Y
A Z
B Y
A Z
C X
A Z
A Z
C Y
A Z
B X
A Z
A Z
B Y
A Y
C X
A Y
A Z
A Z
A Z
B X
A Z
B X
C Z
A Z
B X
C Y
C Z
A Z
A Z
C Z
A Z
A Z
A X
B X
B X
A Z
B X
C Y
A Y
A Z
A Z
C X
A Z
A Z
B X
A Z
A Z
A Z
A Y
B X
A Z
B X
B X
B X
B X
A Y
B X
A Z
A Z
B X
C Y
B X
C Z
B X
A Z
C X
A Z
B Y
C Z
B X
A Z
A Z
C Y
C Y
A Z
A Z
C Z
A Y
A Z
C X
C Z
A Z
A Z
B X
A Z
B X
A Y
B Z
B X
A Z
A X
B X
A Z
A Z
A Y
C Z
A Z
A Z
C Z
C Z
A X
A Z
C Y
A Z
B X
A Z
A Z
A Y
C Y
B X
C Z
A Z
C Y
B Y
A Z
B Y
C Z
A Z
A X
B X
B X
A Z
A X
A Z
A Z
A Z
A Z
B Z
A Y
A Z
A X
C Y
A Z
B X
B Y
B X
C Z
A Z
A Z
B X
A Z
C Z
A Z
B X
C Y
C Z
A Z
B Z
C Z
B X
C Y
A Z
C Z
B X
B X
A Y
A Z
B Z
B X
C Z
A Z
C Y
B Y
A Z
B Y
A Z
C Z
B X
B X
B X
C Z
A X
B Y
B Y
A Z
A Z
A Z
A Z
A Z
B X
A Z
A Z
B X
C Z
A Z
C Y
C Z
A Z
A X
A Z
A Z
A Z
B X
B Y
B X
A Z
A Z
C Z
A Z
C Z
A Z
A Z
B X
A Z
A Z
C Y
A Z
B X
A Z
A Z
B X
A Z
C Z
A Z
B X
A Z
A Z
A Z
C Z
B Y
A Z
B X
C X
A Z
B X
A Z
C Y
A Z
A Y
A Z
B Z
B X
C Z
A Z
C Z
C Y
B Y
B X
B Y
C Y
C Y
A Z
C Y
A X
A Z
B Y
A Z
B X
A Y
C Y
B X
C Y
B X
A Z
A X
B Y
B X
C Z
A Z
A Z
A Z
A Z
A Z
C Z
C Z
A Z
A Y
B X
B X
C Z
A Z
A Z
C X
B Z
C Z
B X
A Z
A Y
A Z
A Z
A Z
A Z
A Z
A Z
B Z
B X
A Z
B X
C Y
C Z
A Z
B X
B X
A Z
C X
A Z
B Y
A Z
C Y
B X
A Y
B Y
C Y
B X
B X
B Y
C Y
B X
A Z
C X
A Z
B X
A Z
A Y
A Z
A X
C X
C Y
A Z
A Z
C Y
A Z
A Z
A X
C Z
C Y
A Z
A Z
B X
B X
C Z
B X
A Z
C Y
B X
B X
C Z
A X
A Z
B Z
C Z
C Y
A Z
C Z
C Z
B Y
C Y
B Y
C Z
A Z
C Z
B X
A Z
B Y
B Y
C Y
C Y
A Z
C Z
C Z
A Z
A Z
C X
A Z
A Z
C X
A Z
A Z
A Y
A X
C X
A Z
A Z
A Z
C Z
A Z
A Z
A X
A X
B Y
A X
A Z
A X
B X
B X
A Z
C Y
A Z
C Y
C Y
B X
B X
A Z
B Z
B X
C X
B X
A Z
A Z
A Z
B X
C Y
C Z
A Z
B Y
C Y
C X
A Z
A Z
A Z
A Z
A X
C Z
A Z
B X
A Z
A Z
C Z
C X
C Z
A Z
C Y
B Y
A Z
C Z
B X
B Z
A Z
A Z
A Y
C Y
C Z
C Z
A Z
A Z
C Z
B X
A Z
A Z
A Z
B X
A Z
B X
B X
A Z
C Y
A Z
A Z
A Z
C Z
A Z
C Y
B X
A Z
C Z
A Z
C Z
A X
A Z
A Z
A Z
A Z
A Z
A Z
C Z
A Z
A Z
A Z
B X
C Y
B Z
A Z
C X
A Z
C Z
C Z
C Y
C Y
B X
A Z
C Z
A Z
A Z
A Z
A Z
A Z
A Z
A Y
A Z
A Z
A Z
C Y
B Y
C Z
C Z
A Z
A Z
A Z
A Y
C Z
A Z
A Y
A Z
A Z
A Z
B X
B X
C Y
B X
A Z
A Z
A X
C Z
C Y
A Z
C Y
A Z
A Z
A Z
C X
B X
A Z
C X
C Y
A Z
A Z
A Z
A Z
A Z
A Z
C Z
B X
C X
C Z
B Y
B Z
B Z
C Y
A Z
B X
B X
A Z
A Z
A Z
B Z
B Z
A Z
C Z
A Y
C X
C Y
A X
C Y
A Z
C X
A Z
B X
C Z
B X
B Z
A Z
A X
A Z
B X
C Y
B Y
A Z
C Z
A Y
A Z
C Y
A Z
C Y
B X
A Z
A Z
A Z
A Z
B Y
A X
A Z
C Z
A Z
C Z
B X
C Z
A Z
B Y
A Z
C Y
C Y
C Z
A Z
A Z
A Y
B X
A Z
A Z
C X
B X
C X
A Y
A Z
A X
B X
A Z
B Y
C Z
C Z
C Y
A Z
A Y
A Z
A Z
B Z
C Y
A Z
A Z
B Y";
    int LOSE = 0, DRAW = 3, WIN = 6;
    Console.WriteLine(data.Replace("\r", "").Split("\n")
        .Select(line => {
            var parts = line.Split(" ");
            return (parts[0][0] - 'A', parts[1][0] - 'X');
        })
        .Select(pair => pair switch {
            (var a, var b) when a == b => DRAW + b + 1,
            (var a, var b) when (a + 1) % 3 == b => WIN + b + 1,
            (var a, var b) when a == (b + 1) % 3 => LOSE + b + 1,

        }).Sum());
}
void p2b() {
    var data = @"C Z
C Y
B X
A Z
C Z
B X
C Z
B Z
A Z
A Z
B Z
B X
C Z
C Z
A Z
B Y
B X
C Y
B X
B X
A Y
A Z
A Z
A Z
A Z
C Z
A Z
C Z
B X
A X
A Z
B Y
B X
A Z
B X
C Z
A Z
C Z
A Z
A Z
B X
C X
B X
A X
B X
A Z
A Z
B X
B Y
B Y
B Y
C Z
A Z
A Z
C X
B X
C Y
B X
C Z
A Z
C Z
B X
B X
B Z
B X
A Z
C Z
A Z
A Z
A Z
A Z
B X
C Z
C Y
A Z
A Z
A Z
A Z
C Z
A X
A Z
A Z
C Z
C Y
A Z
C Y
A Z
A Z
C Y
C Z
C Z
A Z
B Y
B X
B Y
C Z
A Z
A Z
A Z
B Z
C Z
A Z
B X
C Y
A Z
B X
A Z
B Z
A Z
B X
A Z
B Y
A Z
A Z
C Y
A Z
B Z
A Z
A Y
B Y
C Z
A Z
B X
C Z
C Z
B X
C Z
C Z
A Z
B X
C Z
C Z
A Z
C Y
A Z
A Z
B Y
C Y
A Z
B X
B Y
B X
B X
A Z
C Y
A Z
C Y
A Z
B Y
C Z
A Z
A Z
C Y
A Z
A Z
C Z
A Z
A Z
A Z
C Y
A Z
B X
C Z
A Z
C Z
B Z
C Z
A Z
C Y
B X
C Z
C Z
A Z
C Y
A Z
B Y
B X
A Z
C Y
C Z
B X
C X
B X
C Y
B X
B X
C Z
B X
A Z
C X
A Z
C Z
B X
C Y
A Z
A Z
C Z
C Y
A Z
A Z
A Z
B X
A Y
B X
C X
C Z
B X
C Z
C X
A Z
C Z
B Z
A X
A Z
C Y
A Z
C Z
C Z
B X
C Z
A X
C Y
C Z
C Z
C Z
B Y
C X
B X
A Z
B Y
A Z
A Z
C Y
A Z
B X
A Y
A Y
C Y
A Z
A Z
C Z
A Z
A Z
A Z
B Y
B X
B X
A Z
C X
C Y
A Z
C Z
A Z
A Z
A Z
A Z
A X
A Z
C Z
A Z
B Y
A Y
A Y
C Y
C Y
B X
B Y
A Z
A Z
C X
A Z
B X
C Y
A Y
A Y
A Z
C Y
C Z
B X
A Z
C Y
B X
C Z
A Z
B X
A Z
C Y
B X
C Z
A Z
A Z
A Y
A Z
A Z
C Y
C Z
A Z
B X
C Z
C Y
A Z
A Z
C Y
A Z
C Z
B X
A Z
C Z
A Z
A Z
A Z
C Y
C Y
B X
B Z
B X
A Z
B Y
B Y
A Z
A Z
A Z
B Y
B Y
C Y
A Y
A Z
C X
B X
A Y
B Y
C Y
A Z
B Z
C Y
C Z
B X
A Z
A X
B X
C Y
B Z
A Z
B Y
A Z
B X
A Z
B X
A Z
C X
C Y
C Z
B X
C Z
C Y
A Z
C X
C Z
A Z
C Y
A Y
C Y
C Y
B Y
A Z
A Z
A Y
A Z
C Z
B X
A Y
B X
B Y
B X
A Z
C Z
C Z
C Y
B X
C Z
A X
A Z
A Z
A Y
A Z
A Z
A Z
A Z
B Z
B X
B X
C Y
C Z
C Z
A Y
B X
C Z
C X
C Z
B Y
A Z
B X
B Y
B X
A Z
B X
B X
A Z
A Z
C X
B X
C Z
C X
A Z
A X
C Z
A Z
A Z
C Z
B Z
C Z
B X
A Z
A Z
C Z
A Y
A Z
A Z
C Y
A Z
B X
B Y
A Z
A Y
A X
B X
A Z
A Z
C Y
C Y
A Z
C X
A Z
A Y
A Z
B Y
A Z
A Y
B X
C Z
A Z
B X
A Z
A Z
B X
A Z
A Z
B X
A Z
C Y
A Z
C Z
C Y
B Y
B X
A Z
B Y
A Z
A Z
B X
A Z
A Z
B X
C Z
A Z
C Z
B X
B X
B Y
A Y
C Y
B X
A Z
C Z
A Z
A Z
A Z
B X
A Z
B X
A Z
A Z
A Z
C Z
A X
B X
B Z
A Z
A Z
C Z
A Z
A Z
A Z
B Y
A Y
C Z
B X
B X
C Y
A Y
A Z
C X
B Z
A Z
A Z
C Z
A Z
A Y
B Y
C Z
B X
A Z
A Z
A Z
C Z
A Z
A Y
B X
C Y
A Z
A Z
A Z
C X
B X
A Z
A Z
C Z
B X
A Z
A Z
A Z
A Z
A Z
A Z
C Y
A Z
B X
A Y
C Y
A Z
A Z
B X
A Z
B Y
A Y
B X
A X
A Z
C Z
C Z
C Y
A Z
B Y
A Z
C X
A Z
A Z
B X
A Z
A Z
B Y
A Y
A Z
A Z
B X
C Y
B X
B Y
C Y
C X
A Z
A Z
B Y
A Z
B Y
C Y
C Y
A Z
C Y
A Z
C Z
A Z
B X
A Z
A Z
A X
A Z
A Z
A Z
A Z
B Z
C X
B Y
A Z
C Z
A Z
A Z
A Z
C Z
B X
A Z
B X
C Y
C Z
A Z
A Z
C Z
B X
B X
A Z
A Z
B X
A Z
A Z
C Z
A Z
A Z
A X
C Z
C Y
A Z
A Z
A Z
A Z
C Z
A Z
A Z
B Z
A Z
C Y
A Z
A Z
B Y
A Z
A Z
B X
A Z
B X
A Z
A Z
C Y
A Y
C Y
B Z
B X
B Y
A Z
A Z
C Y
A Z
A Y
B Z
A Z
C Y
A Z
A Z
A X
A Z
B Y
B Y
A Z
A Z
A Z
C Z
C Z
A Y
C Y
B X
A Y
B X
B Y
C X
C Y
C Y
A Z
C Z
A Z
A Z
A Z
B X
A Z
A Z
A Z
A Z
A Y
B X
A Z
A Z
B X
A Z
A Z
A Z
A Z
A X
C Y
B X
A Z
A Y
C Y
C Y
A X
A Z
C X
C Z
A Z
C X
A Z
A Z
B Y
A Z
A Z
A Z
B X
A Z
A Z
B X
B X
A Z
A Z
C Z
C Z
A Z
C Z
B X
A Z
A Z
B X
C Z
C Z
C Y
C Z
A Z
B X
A X
C Z
A X
C Z
A Z
A Z
A Z
A Z
A Z
B X
A Z
B X
C Y
A Z
A Z
A Z
C Z
A Y
A Y
B Y
A Z
A Z
C Y
C Z
B X
B X
A X
C Z
B X
A Z
A Z
A Z
B Z
A Z
C Y
B X
A Z
A Z
A Y
B Y
C Z
C Z
A Z
A Z
A Z
B Y
A Z
C Y
B X
B Z
C X
B X
C Y
A X
C Z
A Z
B X
C X
A Y
C X
A Z
B X
B X
A Z
A Z
C Z
B X
B Z
C Y
C Z
A Z
B Y
A Z
A Z
B X
C Y
A Z
C Z
A Z
B Z
C Z
C Z
A Z
C Y
A Z
A Z
A Z
C Z
C X
B Y
C Y
A Z
C Y
C Y
C X
C Y
A Z
C Y
C Y
C X
C X
A Z
B X
A Z
C Y
A Z
B X
B X
B X
B X
B X
B Y
A Z
A Z
C Z
A Z
A Z
A Z
C Z
C Z
C Z
A Z
A Z
A Y
A Z
A Z
A Y
A X
C Z
A Z
A Z
C Z
B X
C Z
B Y
C Z
A Y
A Z
C Y
B X
A Z
C Y
A Z
C Z
C Y
B X
A Z
A Z
A Z
A Z
A Z
C X
C Z
A Z
A Z
A Z
C Z
A Z
B X
A Z
A X
A Z
B X
A Z
C Z
A Z
A Y
B X
B Z
A Z
B X
A Z
A Z
B Y
A Z
A Z
C Y
B Y
C X
A Z
A Z
A Z
C Z
A Z
A Z
A Z
C Z
A Z
C Y
B X
A Z
A Z
C X
A Z
C Z
A Z
B Y
A Z
A Y
C Z
C Z
A Y
A Y
A Z
A X
A Z
A Z
B X
A Z
A Z
B X
C Z
A Z
A Y
B X
A Z
A Z
C Z
A Z
A Z
B X
B Z
A Z
A X
B Y
A Z
B X
A Z
C Z
B X
C Y
A Z
B X
A Z
A Z
A Z
B Z
A Z
C Z
A Z
C Z
B X
A Z
B Z
A Z
C Z
C Z
B Y
C Z
A Z
A Z
C Y
A Z
A Z
B X
B Y
C Z
A Z
C Z
A Z
C Z
A Z
B X
A X
B Y
A Z
C Z
A Z
C Z
C Y
B X
C Z
C Z
B Y
B X
C Z
B X
C Y
A Z
C Y
C Y
A Z
B X
A Z
C X
C Z
B Y
C Z
B Z
A Z
A Z
A Z
A Z
A Z
A Z
A Z
A Z
C Z
A Z
B Y
C Y
C X
C Y
B Y
B X
A Z
C Z
B X
B Y
A Z
B Y
A Z
A Y
B X
A Z
B X
A Z
C Z
A Z
A Z
A Z
C X
B Y
C Z
C Z
A X
C Z
A Z
C Z
B Y
A Z
B Y
A Z
A Z
A Z
B Z
C Z
A Z
A Z
A Z
A Z
A Z
A Y
A Z
C Z
A Z
C X
A Z
A Z
A Z
C Z
A Y
A Z
A Z
B Z
A Z
A Z
A Z
C Z
C Z
A Y
A Z
A X
C Y
C Y
B Z
A Y
C Z
A Z
C Z
C Z
A Z
A X
A Z
B Y
C Z
B Y
A Z
B X
A Z
A Y
A Z
A Z
A Z
C Z
A Z
A Z
A Z
C Z
A Z
C Z
C Z
C Y
A Z
B X
A Z
A Z
A Z
A Z
A Z
A Z
C X
C Z
C X
A Z
A Z
A Z
A Z
A Z
A Z
C Z
B Y
B X
A Z
C Z
B Z
A Z
C Y
A Z
C Z
A Z
C Z
A Z
A Z
A Z
C Z
A Z
C Y
A Z
A Z
A Z
A Z
A Z
C Z
C Y
A Z
C X
A Z
C X
C Z
C Z
A Z
A Z
B Y
B X
A Z
B X
A Z
A Z
A Z
C Z
B Z
A Z
A Y
B Y
A Z
C Z
B X
C X
C Y
C Y
C Z
C X
B X
A Z
B X
A Z
C Z
A Z
A Y
A Z
B X
A Y
A Z
A Y
C Y
A Y
A Z
A Z
B X
C X
A Z
A Z
A Z
A Z
A Z
A Z
A Y
B X
A Z
A Z
B Y
B X
A Z
A Z
B X
A Z
C Y
C Y
B Y
A Z
A Z
A Y
A Z
A Z
A Y
C Z
C Y
C Z
C X
C Z
C Y
A Z
A Z
C Z
B X
A Z
C Z
A Z
C Z
C X
B Y
C X
B X
C Z
B X
C Z
A Z
A Y
B Y
A Z
A Z
C X
C Y
A Z
B X
A Z
A Z
C Y
C Z
B X
B X
A Z
C X
A Z
B X
C Y
A Z
A Y
B X
C Y
B X
A X
A Z
A Z
A Z
C Z
B Y
C Z
B Y
A Z
A Z
C Z
B X
A Z
A Z
A Z
A Z
C Y
B X
A Z
C X
A Z
C Z
B Z
A Z
A Z
A Z
B Z
A Y
A Z
A Z
C Z
B Z
A X
B X
A Z
A Z
A Z
A Z
A Z
A X
C Z
A Z
C Z
B X
B X
C Y
B X
A Z
A Z
C Y
C Z
B X
C Y
A Y
B X
B X
C X
A Z
A Z
C Z
A Z
C Z
C Z
B X
A Z
B X
A Z
A Z
B Y
B Y
A Z
A Z
C Z
A Z
A Z
B X
A Z
C Z
C Z
B X
C Y
A Z
A X
B X
B X
B Y
B Y
A Z
C Z
A Z
C Z
A Z
C Y
B X
A Z
A Z
C Z
B X
A Z
C Y
A Z
A Z
A Z
B X
A Z
A Y
C Y
C Z
A Z
A Z
B X
C Y
A Z
C X
A Z
B X
A Z
A Z
B Y
B X
C Z
A Z
B X
A Y
A Z
B Z
A Z
C Y
B Y
C Z
C X
B X
A X
B X
B Z
B X
B Y
B X
C Y
B X
A Y
B Z
B X
C X
B X
A Z
A Z
B X
B X
A Z
A Z
C Y
B Y
A Z
A Z
A Z
C Z
A Z
B X
A Z
B X
A Z
A Z
A Z
A Z
C Y
C X
A Z
A Z
A Z
A Z
B Y
A Z
A Z
C Z
C Z
B X
A Z
A Z
B X
A Z
B X
C Y
B X
C Z
A Z
C Z
C Z
A Z
A Z
A Z
A Z
A Z
C X
C Z
B X
B X
B X
A Z
A Z
C Z
B X
A Z
C X
A Z
C Z
A Z
A Z
C Z
A Z
A X
B X
A Z
A Z
A X
A Z
B Y
A Z
A Z
A Z
C Y
C Y
A Z
C Y
C X
A Z
B Y
A Z
A Z
B Y
A Z
A Z
A Z
C Y
B X
A Z
A Z
A Z
A X
A Z
A Y
A Y
A Z
C Z
B Y
C Y
B X
B X
B X
A Z
A Z
A Z
C Y
A Z
B X
A Z
A Z
C Z
B X
A Z
A Z
C Z
A Z
C Y
A Z
B X
C Z
C Y
A Z
C X
A Y
B Z
C Z
C Y
A Z
A Z
A Z
A Y
A Y
C Y
B X
C Z
B X
C Y
B X
B X
A Z
A Z
C Z
A Z
B X
A Z
B X
C Y
C Z
A X
B X
B X
C Z
C Z
C Z
C Z
C Z
A X
A Z
B X
A Z
B X
A Z
A Z
A Z
B X
B Y
C Z
C Y
A Z
C Z
B X
C Z
A Z
C Z
A Z
A Z
A Z
B X
B Z
A X
B Y
C Z
A Z
A X
A Y
A Z
C Y
A Z
C Z
A Z
A Z
A X
A Z
A Y
B Z
A Z
A Z
B X
B Y
A Z
C Z
A Z
A Z
C Z
A Z
A Z
C Y
B X
B X
A Z
C Y
B Z
A Z
B X
B X
B X
B Y
C Z
B Z
A X
B X
A Y
A Z
B X
B X
A Z
B X
A Z
C Z
A Z
C Z
C Y
B X
B X
C X
A Z
A X
A Z
C Y
C Z
C Y
C Z
C Y
C Y
B X
B Y
A Z
C X
C Z
B X
C Z
C Z
B X
A Z
A Z
A Y
A Z
A Z
C Y
A Z
B X
A Z
A Z
C Y
A Z
A Z
B X
A Z
A Z
B Z
A Z
A Z
A Z
A Z
A Z
C Z
A Y
A Z
C Z
C Z
C Z
A Z
B X
B Y
A Z
C X
A Y
A Y
C Y
C Y
A Z
C Y
B X
C X
B X
C Y
A Z
A Y
B X
B X
A Z
A Z
A Z
A X
A Z
B X
B Y
A Y
C Z
B Y
A X
A Z
A X
A Z
A X
A Y
C Y
C Z
A Z
A Z
A Z
C Y
A Z
A X
A Z
A X
A Z
A Z
B X
C X
C Y
C Z
B X
A X
C Z
C Z
C X
A Z
C Z
C Y
A Z
C Z
C Z
B X
A Z
B Y
B X
B X
C Z
A Z
A Z
B X
B X
A Z
C Z
B X
A Y
B Z
C X
A Z
C Y
A Z
A Z
B X
C Z
C Y
A Z
B X
B Y
A Z
B X
B Z
C X
A Z
C Y
C Z
B X
C X
C Y
A X
C X
C Y
B Y
A Z
C Y
C Z
A Z
A Z
A Y
A Z
C Y
C X
B X
C Y
A Z
B Y
A Z
B X
A Z
C X
A Z
C Z
B Y
B Y
B Y
C Y
A Z
A Y
C Z
C Y
B Y
A Z
B Y
B X
A Z
B Z
A Z
A Z
A Z
C Y
A Z
B X
A Z
C Z
B X
B X
C Z
A Z
C Z
B Y
C Y
C Z
A Z
A Z
A Z
A Z
A Z
C Z
A Z
C Y
A Z
B Y
A Z
C X
A Z
A Z
C Y
A Z
B X
A Z
A Z
B Y
A Y
C X
A Y
A Z
A Z
A Z
B X
A Z
B X
C Z
A Z
B X
C Y
C Z
A Z
A Z
C Z
A Z
A Z
A X
B X
B X
A Z
B X
C Y
A Y
A Z
A Z
C X
A Z
A Z
B X
A Z
A Z
A Z
A Y
B X
A Z
B X
B X
B X
B X
A Y
B X
A Z
A Z
B X
C Y
B X
C Z
B X
A Z
C X
A Z
B Y
C Z
B X
A Z
A Z
C Y
C Y
A Z
A Z
C Z
A Y
A Z
C X
C Z
A Z
A Z
B X
A Z
B X
A Y
B Z
B X
A Z
A X
B X
A Z
A Z
A Y
C Z
A Z
A Z
C Z
C Z
A X
A Z
C Y
A Z
B X
A Z
A Z
A Y
C Y
B X
C Z
A Z
C Y
B Y
A Z
B Y
C Z
A Z
A X
B X
B X
A Z
A X
A Z
A Z
A Z
A Z
B Z
A Y
A Z
A X
C Y
A Z
B X
B Y
B X
C Z
A Z
A Z
B X
A Z
C Z
A Z
B X
C Y
C Z
A Z
B Z
C Z
B X
C Y
A Z
C Z
B X
B X
A Y
A Z
B Z
B X
C Z
A Z
C Y
B Y
A Z
B Y
A Z
C Z
B X
B X
B X
C Z
A X
B Y
B Y
A Z
A Z
A Z
A Z
A Z
B X
A Z
A Z
B X
C Z
A Z
C Y
C Z
A Z
A X
A Z
A Z
A Z
B X
B Y
B X
A Z
A Z
C Z
A Z
C Z
A Z
A Z
B X
A Z
A Z
C Y
A Z
B X
A Z
A Z
B X
A Z
C Z
A Z
B X
A Z
A Z
A Z
C Z
B Y
A Z
B X
C X
A Z
B X
A Z
C Y
A Z
A Y
A Z
B Z
B X
C Z
A Z
C Z
C Y
B Y
B X
B Y
C Y
C Y
A Z
C Y
A X
A Z
B Y
A Z
B X
A Y
C Y
B X
C Y
B X
A Z
A X
B Y
B X
C Z
A Z
A Z
A Z
A Z
A Z
C Z
C Z
A Z
A Y
B X
B X
C Z
A Z
A Z
C X
B Z
C Z
B X
A Z
A Y
A Z
A Z
A Z
A Z
A Z
A Z
B Z
B X
A Z
B X
C Y
C Z
A Z
B X
B X
A Z
C X
A Z
B Y
A Z
C Y
B X
A Y
B Y
C Y
B X
B X
B Y
C Y
B X
A Z
C X
A Z
B X
A Z
A Y
A Z
A X
C X
C Y
A Z
A Z
C Y
A Z
A Z
A X
C Z
C Y
A Z
A Z
B X
B X
C Z
B X
A Z
C Y
B X
B X
C Z
A X
A Z
B Z
C Z
C Y
A Z
C Z
C Z
B Y
C Y
B Y
C Z
A Z
C Z
B X
A Z
B Y
B Y
C Y
C Y
A Z
C Z
C Z
A Z
A Z
C X
A Z
A Z
C X
A Z
A Z
A Y
A X
C X
A Z
A Z
A Z
C Z
A Z
A Z
A X
A X
B Y
A X
A Z
A X
B X
B X
A Z
C Y
A Z
C Y
C Y
B X
B X
A Z
B Z
B X
C X
B X
A Z
A Z
A Z
B X
C Y
C Z
A Z
B Y
C Y
C X
A Z
A Z
A Z
A Z
A X
C Z
A Z
B X
A Z
A Z
C Z
C X
C Z
A Z
C Y
B Y
A Z
C Z
B X
B Z
A Z
A Z
A Y
C Y
C Z
C Z
A Z
A Z
C Z
B X
A Z
A Z
A Z
B X
A Z
B X
B X
A Z
C Y
A Z
A Z
A Z
C Z
A Z
C Y
B X
A Z
C Z
A Z
C Z
A X
A Z
A Z
A Z
A Z
A Z
A Z
C Z
A Z
A Z
A Z
B X
C Y
B Z
A Z
C X
A Z
C Z
C Z
C Y
C Y
B X
A Z
C Z
A Z
A Z
A Z
A Z
A Z
A Z
A Y
A Z
A Z
A Z
C Y
B Y
C Z
C Z
A Z
A Z
A Z
A Y
C Z
A Z
A Y
A Z
A Z
A Z
B X
B X
C Y
B X
A Z
A Z
A X
C Z
C Y
A Z
C Y
A Z
A Z
A Z
C X
B X
A Z
C X
C Y
A Z
A Z
A Z
A Z
A Z
A Z
C Z
B X
C X
C Z
B Y
B Z
B Z
C Y
A Z
B X
B X
A Z
A Z
A Z
B Z
B Z
A Z
C Z
A Y
C X
C Y
A X
C Y
A Z
C X
A Z
B X
C Z
B X
B Z
A Z
A X
A Z
B X
C Y
B Y
A Z
C Z
A Y
A Z
C Y
A Z
C Y
B X
A Z
A Z
A Z
A Z
B Y
A X
A Z
C Z
A Z
C Z
B X
C Z
A Z
B Y
A Z
C Y
C Y
C Z
A Z
A Z
A Y
B X
A Z
A Z
C X
B X
C X
A Y
A Z
A X
B X
A Z
B Y
C Z
C Z
C Y
A Z
A Y
A Z
A Z
B Z
C Y
A Z
A Z
B Y";
    int LOSE = 0, DRAW = 3, WIN = 6;
    Console.WriteLine(data.Replace("\r", "").Split("\n")
        .Select(line => {
            var parts = line.Split(" ");
            return (parts[0][0] - 'A', parts[1][0] - 'X');
        })
        .Select(pair => pair switch {
            (var a, 0) => LOSE + (a + 3 - 1) % 3 + 1,
            (var a, 1) => DRAW + a + 1,
            (var a, 2) => WIN + (a + 1) % 3 + 1,

        }).Sum());
}
void p3() {
    var data = @"hqBqJsqHhHvhHHqlBvlfpHQQwLVzVwtVzjzttjQVSjMjwL
gRTRnCRsFNGbTzLjwcSTMmSz
dGgsRWPGdWgZJqBBqhfpPq
HNCNJHCWJRRLqNJWlfrrrwsmlwGmmf
dddvLdLjdDvjvswlmGwlZQtjrt
dvcpbLVcvNJJHNPHSp
QDprSpLQRLQrQDmQcQFZjbbhZwdRsRFbbBss
gWGGPgNvJlgJzDlNGHCGPNZZgFBbsjbFFBwZwfhdZbZB
lHTlGMHlGCPNvClzGzJHvGcrMcVtLqMLcrrQVcVDrqrm
SrBpJFfldlFNslFJBZwsmwgVGGsCCVmZZD
jLtjvzLQMtWjbbQvDZZwGRJGgwggGZgv
MzqqjznQPqnnjznnctnFlSddPfHflhfBJFNdHd
mPNNGVCRngnSbgNw
WqsqlTssgvqvZWZzhsTzWhScdHtfJJnfbtSJwfczdtSS
sqTvhpqQvWZQLmDpDGMDGrgL
DQRcLQVLbbcbrFPcRtTBBBJnTZrrnmZTrMgJ
slGjjjdlhMfvdMQTvg
jlzNhWHhhWjHlwwwGLDSDtPQVtRzRbSzpp
DzDgfvzfDczfHCHSlgHLCmWG
PrpNPJtpPMBssmmVdmSVVr
PSRMwPnMpBNtNBTnnZwDqzQFfwhjZZqfhh
fzfBwhBJFbCwbwwg
strtgtrPgmPgFRsMdRnZRMFn
mrmLPDvGmmtSLDgmSqvHchhcHQzcQQJHBfBh
NsgwPPDgsPHqsTqqmLbLrDRhmrRVrbVW
lFpGFtfFlvSFplGFzptSGSSlhZbhjhfrmWbhLhmLbCZVZjWr
ccplJQSGcSSpVFvNqqsqPNqPQPTwqd
HFhPNNZGqSZrCDBVZBCB
RJTtwczTzCRVQrRHpR
mfgblfltwgwwmlJgcHNnGhSbFNnFsFjFqG
tSRqNRHpHnMSTqpcmrWWfqfmrCQCrW
lhGDtbgVVgDsDbhfldfwrzrfcdzwcr
vtDDhsgFBTNZFBHS
LcNpLLBNgdmHGmsBCrRBQDDwnwRj
hSWfZVhfPJJhfVWbhzbnQqQnRRRqPvCCrjvjwj
ztJSSJhzzSTJrZSbzzJTfzbZmLmggdmNMFNpmtmMGFFGNpmt
TRdFfLbTnLvZVlZvznQV
pgJGprJNhghhNjjPgPNrhNqqlVVlQVVQqQjfzBfQvZzB
rmGmSwJPwJprrNDbsfMRsdTDcDWHfM
QMpZZTtwMBttJMMbVqPpqLqbVlbqqN
rjCFGrdGRwdDHSnqflPVLqqVNllrfl
DHGDRvhvwTZhJWBQ
LcQCCpLQVhrdcFQCJrmmmwDwvDtJJnnw
TsZqqTzMRqZjfsjTTDjsNJnmnStRSHnnSJmnJSNH
sMMZZbDjZFdbVCFphV
FCcdFFGBsdDrbMNSmSdmQR
tVttHVLhvVgfTTtffNSMQRMZSRmMQNmHSb
gngvvwJtVVTvVvvvfwvJThhCzGcnsCjmCDmscPcGCsGsmz
fsnzRNZswZszPRZSLflPpDhlhvgWHmjWvJjh
bVcCqjbdjbcMdBrddrQphvHHmHWlggpWpppqJJ
FBTdFQGrTjLNsNtL
MSWWgMdgdbWbbfdgsPmddgCmSLZvSFvLQvnLrFNZvZFLlLLl
hjpJjGthjRNRptwJJqVBllnvrrlTTQFZqnTZnn
tjDGHwhHHjwjjJGpwjwjjJpwsdgffmbgMsmbDNcMcdmCPdsm
MlDrrgnTDLlCCmCRFgRSCR
HHhbbNQMccQFSNBmmpJNSJ
MwbMbshsswVbHQsbcVMcrtDllTlLqfTGVzLGrTlT
gSFzqQTpmVpQVpLFLrzJJRthlsQBlPsZsBhZst
rwrNDdbHdBhRhZbsjB
vvvMHwHcwGCwwNfMVSrqffWpSfSFzLmT
RNgMgRCCgCfPNfvNgVQmhPVWWjWjLLdLBj
JhJqqqwGDchsBVbdjldmBLmG
schZzDwTJzFTsctHFMtfftgMttpM
GHHWqWFWfWHqbRWsFZFmqZbhNjNDNppNjrjDcQdbpddhjr
wCLCVPfwgVSnPNrQhnDcjcNpDD
TPgLlggJLVwPVVPPwgTwvtSCFmzGGqzGZsGRqWBGfFRFJFRB
LfFLmGTPHBfpHmzBLdZfBfZTbWWttWSDJtWVDJDtSWJzVCCV
RssRRRhrRwQqMQQwnPngQrwvVSjttjJSjSVtWWCWjbVb
hQPnnRnQgNcQqqQQcsZTNTLpdZZfpZFHNpBp
VTCVVnwfFTvFmTCvWwJHdlhHWBJhJBRWNHgh
ZbSMZbctGtScQSZsSpZpPpplhBhtdJDRDJjhdtlRJRjNRj
rLsbBQSMBGspPGcMPQvnqmwzwmCVLmqVmwTF
GVrrQVHHHQGTllQjPHGrlCQpZZpJFWZFzzjBssDJghzhFZ
NSMmWmtqMWqSNbcctdLcdghpgpppssZgbgzpFzJJFs
cfLqLwMRdtNLMlQrvflWTQPffQ
FjtGflGsbNqjsmjGGGbmqQQQBQBTjdpTpJTWvJBddj
CPrVRMnvvLSRHLnBpwdWTRBQwQzBzR
SnZMZPcHMlqchsvGGb
nnJnswzPCtmZDCpmhphD
rSVVLQQQGQjwpdmdNmpS
VvBcQvGcQgGLBgWrwznfJsncltJsJnssPM
dhbwLStzSGmmmzJJvFgJNvnrgvhv
VTsTsRscRsVBMRVTTsjZVPCnDNvfrPfDvNCfBrPNDJ
scHHQTpJZjHwzLSHHtqHSt
MHmFsBDmGpGTBfmCfWCffhzgvf
wcjwnRLPZRVbtCjtNttGCh
ZLGVJRrnPPPwQwPppqDHFpBFTpqFDr
GzMgVfGRdRVngDjhqcjctrtrzzzs
QbQSHwHSLbWwJJFwJPLPSWTQjrhqtjflThccsclCcscCCmmj
JFbNSbLvHHLQFLvwQJFWSBVgMNGdBBnBMVfddpGngB
sZHNJwMsvHswwvMWqBzhChWPMBzd
bHQQQRDHRcRcDljttBldlPBdggBCqB
QjnDbDjjjncRjbQnfZpvssZNHnppFNpvvp
NdmfPNMHMdNMHcffHBCwwsvsRRllvwlcqjwscw
VLhVGLpLShgvrjwFhjqfls
pppnnQtVpGZVWtzGgVzgSSfnCCDmdPBMDbmmDMmdNMBmWNmm
rrfgCrrMllfnBhBrdCFfWLFmmVFVWQvWwtwV
TmSGSqNzvwwTFVvj
NSGSmNbDzpmSpbHmSJqqlMgdMndcgdccdpgllRRh
bbPtLnLcLJzTjcJbbTcttLcSgwmvWfVvfVvBgfmWVJMJMJMW
ZsDNNGDRsrHzpNRwMlgRlgmMWvffWM
FGzQpZGGLFjnSFbF
DQZVDdWWNBtgWnJCnL
SSHSmbHRFqGrmqJrbbGzjmzCwrvgvwnBwnCvprwvpwwPvv
qFFFSmsRRzzFjcFsSsjmzJzflhlZTTThdhVflZlVDDhMcN
cdvrFddqDtDvqgCDtFtrvvvFSmShPShJVJmMJSJbVBgTlmbM
GzjpHzGHHfQNfJSlPQbJBSTJBM
HWpspsWjNsGRHfpwNszzLfGqnCnZtdvvcZvwqFCcZqMZCv
rhHhDhhDrRNwDRhNRLRqNPHjHSpVpVlljSSMnlHnjS
sVVBsFBJBtBSPSjtjPPZZS
JmddVTzsffcGNwzCqNqR
nQfqFtZWFZnFJWfpGqhDsGLLPLVbrPhr
CzjwMTgBgTNSGLVVDPbjbS
wMCmgNNdgvzGdRQcFGFdfJ
CbqCDnwFpDpCVfBPmPffPfRfpB
svcsjlGJGnlnvjvzgQQgGzsZPhBRcRPhWfBZBhPhWRRhPN
sJngnjSGGTGzgJGrrbCqLHrCLwSFqV
hnRnJrwMHnQRRRwMhRrnJRBLZtBPdPSdtZZjjstsLHBP
pBBzzcbTbzCcFzTvlSCZLCtSvvttdZ
FWmNzBFNDnRqNRDM
lvzlSPRDSpDJmNwNGgFpfsFN
WBHrtrLBbhWHtdrFwFFsjzwfFjsdsF
HWnrHnTWhWTCTzTBnRZqDDDCqZcclRvSJR
qcdVbpcMFQcdMGcMFjjpbCnCGmCnJHDHDGJChzCJCJ
wWwlSfBRgRNBDPJnCgCrgzms
tBTfTRwlwRLNwTRmWtNwQFZtqcjcdcqpbdQMqMdd
jJRzwDdwFdJddcjjFCFvQLvNlBhSBhCC
gMMpbHpmnHpWfnlCSBQCPmPllQSs
nHWHVfTGdTSjZzDT
sCVTsBPltgDSbLvRMMDT
WNrjNmWZwmZwfVLvLRbRNvMp
mrHGrmnjqVzjGqdmCltlhFFllgsHBPCg
wbglgTFRblnMRltJBNrDDWQbtdbN
dqCpcjPLGfHZQBJNGGvQDZ
SPssjVSqPCLpScfCgFRVmTlRwndlRwTR
hWMWMhTTDgWMzGMszQShGWJPCQmPVCNPffPfVJftqNQC
nbnHHwLrnswwPVCPZV
nsRvFHLsvplvrcsSWDDDddjjDlMTjT
HRCnhWZhCddgwRcwhdWZHHQLJzSLsSzjJwSjztsmtzsmLF
VlVVNNVqTlMVbTVVMqvqvrDTjQfFtjstJmzftfzsSbtStJQb
pQvvPpBqNBccPWWhcWWc
glJTndVWCTDDVFvnVndVlCvwmBmqBBwQmwPwmMPggGsPGm
NhcSrhNZHhZzRtHcNRrSMSMSFBMGmsQQGLMPPF
hcpRzbcHjRhRbZRzZRztzRpJVdCdnfCnlFvdDTnJCVDjWd
dqWvjjBdWWqMjdvvMJjWWjMGgcfchhzrhwbrwShwgzSqNb
mmmmsVTlVlsLQmnpsNcfgfwNLgczhcGhzw
RslpsnGGGlWdCZFMMRWR
pfSpZSrdSMVDVVLMMDDZpdgRWMPGqqPGqmqqGGhGHNRN
wwQBwtjvvJlvsnbTbvBRHgPmlqhlqWWHqZZgNm
JnQwJvjTtzTZwJnbzzfCrfLCfdfdddfD
PZcnljZFTVmQdlQh
JCLLqBBCSNCCqzJNzStBpStBmsdhVTdmVWsWmdhfLhWVdfrR
BpMzzqSzppMMqpJqqgzPFcjZjnTjgcjbPjPDPZ
HLHWmqBHHqWbMHFtbgWcdhspPcPchndPpn
ZRVSQZRfVZGRgnfsdhLgLndL
jzJRwJRSJJvSlZQGRVwlSGZDMqmmCCCmtNbCmtCMzFNLbF
fDhlBhhZmQRRfHwLdjHFFWQQjQ
ZMTssVVzvbCqJddsLwwH
TzgTbgGGzztMbbvzvVbGvSPBrlShRrfnNrnBDlNcRDZRZB
bjfqGfvFfcHvRwGFRHjbgQtddlQljWpWnQgdWWll
TSPVVSVwSzSDTDlntDndnlWddt
hTrrNCBCVrCrrVshThHHbZvFGscwbfFGRJcZ
jNhMjcgvMNgWggvttcFtchvPFFzdPPrQrrGGQQszRPQrRG
wSCqCmmppbTwPnGHrQdrGCCD
LlqwGmGScLcVthVt
dGGrWWDqmCnwCCQMQrMbFHbMHsPFgPVZbgFPgg
tLRTBwfvTBJcZFNFZRHSHPVN
zjJLTvjcwDzqqhGD
DzrWszFFrtBBhnhNCClHlnHbSbmlSn
ZLwLcVVZcLVpvRwLgMLpLJgPmmQSNSTNbtTvQmCHQCClCHCt
cfgZJwwVLJZPPVpRwzhzrrfGGBrGtDrBsf
BTsdCQsQnwwdcCqqdCnsFvGFpFBvGzrLLmmzpvfG
pjZjgPVlJVMVtgJSWLPvfFFFbNNmNbvbmL
ggVplgJtHSSggdCHsscChhdnnR
JddZcSlvvGFJNWVWFgQgVtFWhg
nDqsHqCszwjCCPMnfhfBhtdWggfg
bqppHqqHHbPLjLCppbwDdRNvdmcTmlNZGGbTTcNv
lcZDSvztcHHcMSZVHVvMZBqBNNFNhBNTTmssBqBcFB
bbGJQdQPpGfQJQdJfLFhmznhzLLNTFhNhf
JGpWpPJddbPpPwpjbtZSzltDgWDSgvtrVv
lJcNlNjPcmtFzHtHBJFg
VPZdwGGWVrsdPWhWwhzzCzzFppDFMBtttFCr
wshsLVfWTnGswdhwcmRjRmScqTcjlPNq
BsBshRZQQsVdsZQZSdsPDwJDHNNHBztNNFMGGwMF
nSTpLjcvHppzwwNt
jcqncjjvfmgrCfvqrnZbmdmSsdbVWlsmhRdW
FjjqRZjZFZWFqPvNvvPQpmbPDCmt
GSnHSnrScncHhrtncGshVbmTmbpVvppCmpCTmTCmCC
rHfnddwdfctlzFFgwqlj
wBwlBmmhwRVThVBmFHnvHMnfsmFfHq
jzwGSGJNZCCssHfsCPfv
GJbzbZdbwJdtdQphRVWQ
ztFZccVHFWHHLSDBpSBPhhZw
fmjsCmqnNTJnvbTvLRPDlCpBSPBpRShl
JqsGTSNJGqvqvNvttGQQGdFrQctrrF
mNZqjTFrZqrTNTTGSSSbrhrhRFRHcnLCzcCdHcLBdccHLzRC
JDDfJswJDWsvgVgwpWnRBlBzGCnlCLBlcCDl
vVGpfQWJpsPQMVgvppVwgWPJrqSZTrZqhTQTrhjbjqSSjZqt
fMSDzDHzpDDVsStdDgwwFZFrrMPCNngCZP
WmLnbWmvvWTTLWWQWRGQvLvrPFZJcgJFCZNrCgGCFCPNPF
QLhlqhljWvRQbbqlqnfStnHdBqVVfzpq
qWZtSQTSvJJvBfJVBBVFNDNHbbdRVPdpNFRF
fGcwwmCgsLhgwLchbpHdrrrphdPRPh
gMjllmcjwsLMgcwlMnSWzSqjSZJqZqZfjQWv
cdRHPjRFRdFVHGcFfFTHQTHVLSQBsbsqSCLqllBJqqbSqLJC
WwWppWgtNrnzzWDmrrmNvWJClJSSbqLJJCGbsCgJbLLg
MnvWpmwvWnvtGPjVRcHRRHMj
dLMDhdHGrcLTvvvstB
nPqgGGNPqRgRSjgmlWjbbTTPPBvpvpTcswwsTF
NRGmgjRnWgnZJqllmSqjnqSDhQzVrdQHDfDrDJQDMHDJzM
RgmcPmGNQwwNmSRwPPgfmrBlCDlGbvFFvtrCsvlrBB
nfdVnjHdMWnTqflFtbjrllrlsCDl
TZJVMhnfMnVMHnpRRNRzgJRzSzgwPR
nTbsblzlnGllmsNnbDwbcWQWwWBFJBQcWQvPWFJM
HRZRdSRdCdLdRftrHHZfSQBMWJMgMzQPFWMJCFWgvQ
HVzrLrrjRjLGnlTnlDlsjj
RQdTdZhWqlZhTdWTqblhNmTMVnnrQsnnpvgMVMHMgHMrgP
fjSSfjcCzGNBjCjsnpMVpnpzvpzsHp
GGwLGSccwjwLwBcGLGSqZWmmdLZLWThmRNZmWR
ncmBrmfdfcVcfGnQdVWRBRvgqNvDvWqzLRqg
PlpPbSbLFPLpFstsbqRqZMqWZqMWSDRzvq
sjtjHCwJwlHfdfjccmmLLQ
tGMtLHQGWzLHFVQtVfQtMWtbgrZNbdfSbccggrcTjTrfbm
swRChnwqhBCCCmSjcNSdcd
vnlnqDRlsRnJJqswJvGMFVMMdWtpVJFMQQFL
ffcHLzGmfvqqfWfF
rJrrRSPCPMCrPRQMNNWJQjJCnqFVVVTStqVnSBdqppBVtpqd
jNQQPjQMCRQwwQbRQbjMgwbNhwWZHHmzmlchlHHHDcLmWzhD
JzvrRHHJvCRZFPFnPgsQVVQNzQTQDttVsB
GSMjpqdbGNppBtDhPN
MbmqMwGbZPmPHJmv
ggVSVWzCNbbNCbRM
DfVhVsVQcQDmpmQTTQLjPjMjbDGNlbRMlNGG
sftTFJJccnphcfncTsfBvwZvrzgzZzZvBrVnzq
qqlClBNSCNSRQMvdrwFvnBrr
GDfhDtszhhsThpTDzsfpprMrFvQvrnnfvQrwHFbfFH
VtggWhpsmGVTGJWMjWjNjPWjLL
NSnShnjsswSsRPNsrnwcwMHfFwGqbvqCbFfg
LDJtzzmgVVlvqGbzvFfzff
mlJmQQpmJpZpBJJdjBNhrnnRdTTgNN
RtRRvbhDFPHHlhtPhRvPRtqjmzqzzwLjHQHLLLQVmVjq
WNNBBZfgfWnqVQwNqzmQcm
MZGfzSrTTnWrrWsTWnfSGbGllPCbGlJRvlPllCtt
phgcNfqgfpZsjjpdsS
brHHnWPbDPDbTPlDJJvJJPrMVVzRSdFzwdZZzFnsdzzVdVZs
SbStvJMDQgNmmtgg
lzDMDhfFRlfMFTfMGPMbFTlMpBHrmpjjCFjmBmrqBjtCmjjq
VvVswLLHZnJJwdndNsSSNBpCpjqjmNgrmCNtmmqm
nHcZWcSVsScTDlPPlTPb
DFMQSlMDpSpFDtDFccHvmqzvbHZjJmvzmmQH
CSgffrPssdgqRbqzzRqZ
dsdsfGsrBPsTVcMctMVNNhtStW
MDWRDWpgDvWpNptvNMnJCHJHMwHCndJfZn
blcrqTFmmcbhLTTTmlBZbjBJdBfBnCbQBdfn
TzlnhcnzTmhLRvSDsRzDPzWR
nwmmPnnPDjclhhjfFzzzwqbFFNHwVqVq
vSQrbpWCvMWQQWQMLgFJVHqzBzJVNqzBFL
CvCvQtWWQmcbtntPcb
qzvtzCCtLsLLzmQCHqpSsHSmfrnNrTrNWWMNGnWZTMZGBvWn
PglVFJwPhbcghVTBpBnWWhWnTMhB
FgjcJccVpwDcwFgVDsqzddqLqSDSCQQL
PLHsSVGGPvSLTffjMJWJJBjfBL
gNhwgTqDcqwpDqNhFpDFhFWfnndjcMJjMWzzBtntJBnW
DFhhQRRwbCbwRQChppmTHCVGTlslrsvrrSVZ
hHnRfSMmsSVrFvQqrmDPgr
jjcBzjZLpWccJLczBjZjWGwCnNzDvrgPCgQvFggvqrQFnr
jtZGpLwjWBpBWcfMTttfbHRnHTbT
swSHffFTVrJlHFSWrTpMZMPhMNBqBhTvhhqZ
bQbLQGGjQLdRCcQjGZBzpzBZqMBBBVdBqh
RjQDQGmgmVVbVcjjmjgcnWtJfrwsfrtHlwswnfHSFw
bVHbbMFDcbDbcmbbHVRbMRFgzSmdzSSTBtTjBdQTzlSldQjT
nqpqCMwJffqQSzTBQlqd
wvJhnnfrfsJrCNffvspRrPPFMbPMRRPPMZgZHR
FnJZnssHvMdJWJpW
mlDlllGrSGmttwlGvZgrzZNWgggzTzdT
bCltZCthtRcbcFbjFL
JGmHrJwGzzpllRZdzZLRcW
htbPSbVtFbbgjhffgPSfTVSDcHDDDLWscRdsZjdZcRssWc
vhfFbFvVHbtTVgFPhmJBCvBNrqBBrGCqQB
BcNQcvcBchSQNccLLvhTqbJZTrHrrrzzqTZMZMFZ
tpHDsnDRslllCCHtwnpsfjRgrJrVMfMmMrFrzVJFzrVZbZrr
tnDpjCwPLNSPdhPH
qnjvvBwBhSSFPgDQLVVDqgLr
WbszTbHTbsbHJWHLLMVZmJPQDrvmZL
ctlRbtCWWtvlSfjljjhBnBNB
TsnvssDDQlRbzMzjDMqHwq
tSGjZCfFZtCFLtVGWGZFbcqwHbhWdbzbwHbdwbdw
ZGBFJFZVBLjStZPBBZLRvlmsPTvsgrrnrTllvs
PgQdNsQFsdNwWqQBsQrTrTLpbrnTpGngnbTG
hCzzMJVDmfzmBDMCfSfhTMGcnpnTcjGrpjbMGjbL
CVVfvCflSHNHvPdBHW
DwlMjMNjStgmthMghg
PTlpHnJJTcZvTTbHZWZTvpqdHhmLgrgdfrhLLsmshmsLts
vncqTbPqcpCnbCPvccZbDBCGzzNBwjDlVVGFjjVR
QsdGGCztZVRddPgndf
DrNNBbwNHNwlbjFbbCNjNwDWWDPPVfDMgfmVMfnMWmmP
rvJBbbBNcLCtJZQL
NfLlqLhbNPddLPqLhpgHwFFwFHHTwRHWwPFTrT
MSMSCnjBnBjCscjVDVljTvHmmWnrwTrwFTrvTWTT
JCMMBzDMJcZZCjDzSBDNJgdfdQlqlLNdhgGLhp";

    Console.WriteLine(data.Replace("\r", "").Split("\n").Select(line => {
        var first = line[..(line.Length / 2)];
        var last = line[(line.Length / 2)..];
        return first.Intersect(last).Select(common => common switch {
                char c and >= 'a' and <= 'z' => 1 + c - 'a',
                char c and >= 'A' and <= 'Z' => 27 + c - 'A'
            }).Sum();
    }
    ).Sum());


    Console.WriteLine(data.Replace("\r", "").Split("\n").Chunk().Select(triple => {
        var (a, b, c) = triple;
        return a.Intersect(b).Intersect(c).Select(common => common switch {
            char c and >= 'a' and <= 'z' => 1 + c - 'a',
            char c and >= 'A' and <= 'Z' => 27 + c - 'A'
        }).Sum();
    }).Sum());

}
void p4() {
    var data = @"36-92,35-78
26-31,25-27
17-72,16-71
3-77,76-90
20-22,21-87
5-75,6-75
42-44,43-95
51-73,50-52
81-89,80-81
7-58,47-58
72-91,20-92
27-64,51-64
5-94,94-95
88-93,88-89
7-45,46-91
30-40,29-29
81-90,80-90
4-71,4-71
68-83,65-84
1-4,3-79
94-95,35-82
30-84,31-97
6-82,81-86
88-88,4-89
41-97,40-89
95-99,34-94
18-56,18-56
53-64,22-53
5-9,9-71
18-41,40-66
38-39,38-78
23-99,22-94
34-54,34-53
33-76,85-94
72-91,63-79
33-94,93-94
56-82,20-56
60-85,60-86
31-76,31-33
29-79,78-80
9-9,66-69
6-97,6-75
40-78,39-77
14-30,14-15
91-94,88-98
1-23,10-23
9-84,7-9
75-76,75-98
45-87,45-46
11-11,11-11
16-64,64-65
60-60,20-61
48-81,93-94
5-48,32-47
37-75,74-75
13-76,13-13
15-93,92-96
41-86,86-96
48-92,64-91
1-9,2-97
43-56,55-55
7-99,98-99
98-99,1-99
15-97,7-99
76-76,32-77
71-76,76-77
13-28,13-29
38-69,42-50
49-49,50-77
68-84,71-83
26-51,32-51
12-40,39-63
21-92,9-88
7-65,65-69
56-76,56-77
40-62,62-62
35-96,92-95
37-99,12-86
94-98,4-81
32-38,34-39
11-94,24-93
1-97,1-60
7-77,7-59
62-81,80-96
38-83,82-82
44-44,43-98
22-23,22-62
28-97,16-97
53-88,67-88
2-2,56-97
41-72,71-72
78-80,47-79
1-1,2-41
23-99,33-98
33-98,61-97
80-95,80-80
8-90,8-91
4-90,50-89
94-94,3-95
3-83,2-99
45-52,12-44
22-65,66-71
9-72,72-73
2-62,2-82
40-61,30-60
57-87,25-56
76-78,77-77
16-88,87-88
14-77,73-77
37-90,36-38
10-75,11-11
37-99,3-97
47-48,45-47
6-92,7-91
60-74,60-61
20-29,8-21
95-96,47-95
63-70,31-63
6-97,6-76
19-91,19-92
50-92,49-50
17-96,18-97
3-4,3-93
13-51,1-13
34-87,23-33
2-99,98-98
4-6,7-76
46-60,36-45
50-80,25-51
60-61,24-61
97-98,3-98
33-34,83-99
30-76,22-77
27-72,72-94
47-96,31-47
26-90,11-27
47-87,3-72
86-91,9-87
32-79,78-79
72-95,94-94
88-96,8-89
11-84,12-98
5-8,8-29
6-38,86-86
14-33,5-33
20-95,39-94
6-99,12-93
52-91,52-90
3-99,2-72
72-96,56-90
7-84,7-8
20-37,14-37
26-74,74-75
40-54,4-71
42-42,93-94
53-69,23-52
20-96,95-96
1-18,18-83
2-3,2-69
36-87,87-87
8-94,8-94
59-99,59-60
15-35,11-35
6-26,5-26
7-12,11-80
79-79,79-79
2-47,46-47
76-96,96-97
12-79,11-77
45-71,46-94
62-63,62-94
30-84,84-85
9-35,9-13
18-60,18-61
13-90,13-85
2-38,1-2
76-81,24-54
48-49,48-95
59-92,58-69
72-72,15-73
15-16,15-99
79-85,60-86
58-58,46-59
55-60,3-54
22-26,26-58
6-86,7-85
66-76,47-66
52-73,52-53
21-76,20-77
44-73,16-77
29-80,30-30
15-47,14-16
3-75,1-3
55-61,9-56
37-55,36-82
64-83,83-84
9-91,41-89
22-86,33-85
6-19,5-34
80-92,93-93
99-99,85-98
96-99,14-97
2-72,5-59
93-94,56-94
34-83,34-86
33-34,34-73
17-84,18-44
82-83,26-83
3-85,18-84
88-88,9-88
93-93,27-94
12-13,12-14
8-90,8-42
78-86,41-77
63-79,80-81
15-66,14-16
77-77,28-76
9-96,8-10
19-78,77-79
13-95,72-93
13-49,14-14
84-85,84-95
25-37,25-37
49-93,49-91
24-78,5-38
2-92,2-92
17-90,16-90
8-50,8-50
76-99,76-98
71-86,77-86
70-71,54-70
8-84,39-84
40-58,55-58
8-87,1-9
5-7,6-85
25-97,24-25
9-97,14-96
17-48,10-47
81-87,30-80
3-83,83-84
2-7,6-42
20-70,70-93
67-85,17-61
7-18,6-20
21-73,20-22
80-81,18-79
43-95,44-96
38-45,44-44
15-91,90-91
32-44,34-43
24-93,24-25
10-16,11-12
22-92,61-92
3-7,6-73
72-79,71-74
34-47,34-46
56-96,75-82
31-48,48-81
54-81,53-82
2-91,93-97
41-74,10-40
51-63,52-86
80-90,75-90
86-87,10-87
80-94,84-94
46-47,9-47
20-77,78-92
38-38,17-37
30-76,5-30
6-58,58-77
10-73,74-85
1-96,2-31
64-73,4-74
60-79,59-77
4-98,8-89
7-9,8-78
4-6,5-95
29-93,53-90
32-94,20-33
78-91,38-79
10-95,96-99
5-97,86-96
6-65,5-64
28-71,7-72
15-54,45-53
3-87,46-99
1-90,40-90
44-86,19-86
3-94,93-94
92-93,1-93
93-93,42-94
90-97,21-91
16-94,16-62
20-27,79-86
28-28,29-39
30-94,29-30
28-68,76-79
54-73,54-55
35-36,35-87
5-42,43-47
10-90,8-91
15-74,23-49
16-97,1-98
2-82,82-89
1-3,2-86
16-87,15-86
9-10,9-60
14-90,10-14
36-85,5-85
36-41,37-89
50-50,15-50
82-86,85-86
28-66,28-32
15-84,14-14
32-69,31-33
31-95,30-96
60-85,61-92
10-87,86-87
96-99,5-97
97-97,39-96
34-35,3-35
51-88,33-88
14-49,48-90
4-51,52-56
7-76,31-75
3-99,3-87
29-86,29-75
61-64,61-65
85-97,13-86
59-67,6-58
51-97,44-50
21-64,64-93
9-56,10-81
20-51,50-51
33-87,32-87
18-79,5-90
51-51,22-52
24-83,21-25
79-93,24-94
14-14,13-83
43-49,44-50
72-72,10-73
14-57,35-57
4-63,3-4
4-93,26-91
26-93,25-26
33-35,33-43
36-87,87-92
27-69,6-70
38-60,30-39
96-96,1-95
2-96,99-99
16-87,88-88
41-52,41-51
61-77,76-82
9-77,3-10
39-50,38-51
12-63,12-62
17-30,18-76
22-86,22-23
3-43,2-44
21-66,66-66
3-64,2-2
60-65,60-65
7-42,74-96
81-98,38-98
16-24,17-23
95-97,32-96
23-38,23-37
42-54,40-46
16-18,13-17
1-81,3-63
16-17,17-50
82-87,88-97
6-47,5-48
8-81,92-94
95-97,11-96
23-94,22-86
6-35,3-56
7-93,90-92
6-49,3-6
24-86,86-86
67-78,67-78
11-98,10-96
87-88,17-88
8-98,99-99
15-73,72-73
1-60,60-60
39-45,33-45
77-95,41-76
5-23,24-99
96-98,97-97
18-55,55-56
97-98,60-90
33-34,13-34
7-96,8-96
7-32,46-61
75-93,20-96
30-99,29-31
4-99,3-97
3-30,29-30
40-40,39-63
48-49,48-60
22-24,6-22
28-28,3-28
64-64,37-63
29-48,5-48
20-37,19-36
77-77,19-77
18-85,2-19
99-99,30-80
35-36,31-35
28-79,75-98
26-94,26-95
22-97,73-96
42-42,5-41
6-8,7-99
10-14,13-14
39-72,39-73
12-90,89-90
93-94,12-94
50-88,89-93
47-88,88-89
39-64,38-38
15-79,78-79
28-32,32-33
50-65,51-51
7-79,6-64
33-49,32-34
82-95,75-96
6-14,4-9
95-95,10-96
14-51,3-15
97-98,21-98
39-61,53-61
68-69,37-68
15-73,73-95
42-70,43-83
1-60,60-61
6-11,11-94
10-79,87-93
36-40,41-41
3-17,3-43
4-81,4-82
90-91,6-90
2-3,5-68
20-98,74-97
4-86,3-85
47-49,23-48
26-89,26-90
31-42,42-47
57-81,39-58
17-87,18-96
9-77,9-78
79-88,80-84
30-84,83-83
15-89,15-88
11-11,10-94
59-82,27-59
8-78,14-33
46-95,85-94
93-97,92-94
4-34,2-3
34-80,30-82
48-83,27-49
47-99,47-48
27-51,51-56
48-49,35-48
31-51,42-51
96-97,19-96
43-44,20-44
76-76,13-75
5-90,27-90
26-27,27-51
47-54,49-95
69-72,4-73
94-98,68-95
1-2,3-86
25-90,24-26
28-90,89-89
91-91,74-91
56-95,40-57
55-92,28-54
28-34,27-35
85-87,28-86
8-10,10-98
45-45,44-44
31-83,27-59
67-84,2-68
17-69,51-69
49-52,34-53
22-81,2-23
95-96,2-96
82-99,17-82
40-57,40-58
9-40,40-40
1-2,3-68
1-97,90-97
2-20,21-34
2-2,1-92
84-86,2-86
7-92,97-99
2-6,5-42
1-52,1-52
98-99,1-98
38-80,29-43
39-69,39-39
97-99,3-98
70-71,8-71
26-52,25-38
8-92,91-92
12-49,13-27
7-95,94-95
91-99,15-92
19-45,18-19
75-76,76-97
59-74,13-86
3-3,2-3
41-60,53-59
75-99,29-96
66-68,18-67
3-91,3-95
33-98,32-34
5-78,10-77
55-95,54-59
6-81,6-81
78-94,52-75
20-93,10-94
12-37,83-99
46-93,92-99
17-79,8-94
45-99,46-46
73-90,68-73
82-83,58-83
15-88,90-94
66-96,18-65
12-87,61-86
35-85,36-84
96-96,28-95
82-95,2-83
1-2,2-99
59-88,59-60
54-90,53-74
35-48,57-57
16-28,16-29
35-45,36-36
25-39,24-58
19-74,27-75
35-73,31-36
16-76,6-87
8-99,7-97
1-1,1-89
9-74,10-75
12-74,11-56
80-81,2-80
13-97,19-92
43-83,82-89
55-59,60-60
20-79,98-98
61-62,61-86
35-82,93-97
21-42,43-43
49-94,43-50
5-81,98-99
5-95,1-95
6-80,91-97
26-85,11-25
34-68,19-48
3-99,3-87
81-81,19-81
8-47,8-48
46-70,46-71
13-73,46-73
13-83,14-82
6-97,96-99
19-33,18-34
30-99,2-99
50-84,1-84
6-97,6-96
96-96,6-96
10-96,9-94
38-39,38-43
18-94,19-97
86-86,87-91
8-98,8-97
84-86,78-85
23-71,72-72
5-99,98-98
26-75,26-75
87-87,20-88
11-85,7-8
52-61,45-62
42-97,42-97
25-89,21-24
95-96,4-93
66-69,67-68
2-93,94-96
8-9,9-81
72-97,21-98
59-75,58-60
14-16,15-96
71-71,70-71
10-79,3-10
54-54,53-98
2-4,3-69
14-66,14-67
16-17,16-65
27-99,76-99
19-94,95-97
3-83,83-84
36-57,31-56
34-83,33-83
56-67,66-88
30-70,17-31
24-80,79-80
43-52,42-43
10-65,66-68
50-69,1-70
10-10,10-33
10-99,9-98
86-96,85-85
30-65,31-60
18-81,17-19
12-84,49-71
19-98,18-18
3-67,4-68
88-99,69-99
11-87,10-11
98-98,37-85
8-90,47-89
2-43,67-79
5-5,4-97
31-94,93-96
13-83,14-14
72-85,71-84
51-53,26-52
3-58,57-62
41-58,41-58
29-84,30-56
89-98,21-90
51-97,50-94
8-96,8-95
1-4,4-81
23-51,52-95
29-61,8-60
11-15,1-5
2-75,7-75
42-66,46-66
53-93,53-94
5-99,3-6
2-5,6-13
65-97,46-99
51-72,50-90
36-65,64-66
1-4,4-94
7-8,7-86
4-89,3-90
61-98,60-62
40-81,19-81
28-73,27-73
4-98,6-97
63-73,63-89
13-97,96-98
5-13,13-88
24-92,7-92
15-31,14-28
2-88,97-97
11-45,11-45
40-82,82-82
51-51,50-60
84-91,21-83
71-98,71-97
21-95,31-94
1-97,1-41
2-3,2-84
3-4,4-91
98-98,17-97
15-15,16-84
43-48,11-37
13-83,11-15
88-96,3-96
55-91,24-55
4-96,96-99
66-82,80-80
3-61,62-93
99-99,11-70
56-56,57-59
40-40,39-99
57-58,35-58
36-95,94-94
2-63,64-81
18-24,24-62
63-98,12-63
81-81,18-80
19-61,19-20
11-18,11-22
9-14,9-11
6-7,6-85
41-51,41-41
18-43,17-19
8-70,71-84
76-76,11-75
87-88,9-88
55-73,54-56
56-57,57-68
4-11,11-88
8-81,11-80
25-70,71-71
22-45,23-48
14-84,5-95
58-68,47-58
17-66,38-66
58-89,88-89
7-28,14-27
31-87,22-63
92-96,39-91
14-41,14-14
62-65,3-61
48-66,48-66
4-95,2-96
7-7,8-77
17-50,18-51
80-89,14-79
28-50,28-89
32-40,7-40
19-77,18-19
34-60,1-6
33-50,51-91
16-17,16-54
29-45,19-32
36-42,37-37
1-95,3-87
70-93,92-98
4-11,46-79
20-82,1-19
40-41,2-42
75-77,31-76
8-14,14-78
69-91,68-69
9-63,77-89
47-70,39-47
3-98,97-98
84-84,30-84
9-9,10-95
24-24,23-92
27-95,21-95
2-99,2-99
38-59,54-59
20-81,15-82
6-73,13-73
98-98,99-99
18-92,17-19
93-94,5-93
13-99,13-14
34-34,34-79
12-88,87-96
55-67,83-89
6-30,1-31
24-80,24-80
5-90,16-91
49-68,10-49
11-14,13-92
23-85,24-92
67-81,67-68
32-99,32-89
85-86,35-84
21-21,20-60
25-85,25-84
20-56,21-21
6-9,9-71
82-98,26-81
37-37,15-38
5-97,3-5
11-18,19-26
14-69,6-83
51-73,50-75
29-85,19-28
8-59,5-60
92-92,46-93
8-57,7-9
16-16,16-84
10-32,10-11
1-86,1-86
26-98,19-91
7-97,6-94
41-81,42-80
3-97,13-98
24-25,24-87
54-54,18-55
49-49,33-50
6-80,79-80
38-95,38-95
52-84,52-77
6-92,1-6
1-3,3-88
6-71,2-5
16-46,2-17
79-86,15-80
6-6,5-54
8-41,11-40
53-98,52-54
2-79,1-3
51-70,50-52
55-55,56-69
4-61,10-97
75-92,12-76
27-79,92-94
6-55,5-7
19-25,20-22
79-92,65-93
95-99,27-94
23-88,23-88
82-83,83-96
2-94,2-74
14-71,6-14
6-14,5-7
3-89,1-2
48-82,13-26
48-80,26-48
43-93,92-92
32-51,85-91
3-5,5-90
99-99,95-97
38-39,38-88
93-95,75-94
15-64,14-16
84-94,67-90
22-47,48-80
41-56,5-57
2-80,7-79
22-71,21-23
21-49,20-22
95-95,61-95
56-57,57-58
25-27,26-62
52-76,41-61
28-98,71-98
74-93,4-93
35-74,73-98
4-57,3-57
4-99,32-98
8-75,7-75
23-67,23-68
15-15,15-56
3-97,1-98
10-90,91-91
18-30,17-19
10-38,1-90
50-73,37-73
40-91,92-95
39-39,40-91
86-87,7-87
12-37,37-94
78-87,14-50
89-95,11-90
60-98,4-94
41-82,81-98
66-92,67-67
88-92,5-89
86-91,85-86
6-98,97-97
34-87,95-95
44-46,45-78
7-87,17-87
7-96,95-97
15-75,76-85
1-98,2-93
3-55,50-54
87-94,72-86
19-70,19-63
7-51,50-79
3-73,3-73
32-38,31-34
2-99,98-98
3-4,5-88
16-37,38-38
39-48,40-42
65-77,65-77
5-94,3-96
28-89,97-98
34-77,53-77
24-54,25-28
6-48,7-7
6-38,3-6
10-83,9-11
26-65,64-84
50-85,84-86
36-91,37-92
2-2,2-84
4-6,5-83
18-71,35-70
5-85,5-64
94-99,13-95
1-32,2-9
11-71,53-98
99-99,18-97
26-46,22-27
39-78,91-93
38-43,38-44
14-76,15-54
91-95,23-90
7-55,3-55
91-95,29-92
10-23,9-59
21-67,20-66
17-27,20-26
2-94,1-94
16-97,13-97
67-68,67-94
81-83,27-82
51-69,81-96
79-81,57-80
55-55,55-68
34-96,34-95
83-85,19-84
4-81,3-80
16-23,23-97
45-74,46-74
2-98,98-99
37-59,35-59
72-74,70-74
16-91,91-92
43-68,44-75
4-77,7-92
93-94,6-94
18-92,93-94
51-76,76-76
17-42,41-79
61-62,49-61
19-77,9-9
11-70,43-69
21-62,53-61
40-77,78-89
10-55,10-46
5-70,98-99
19-21,20-86
7-68,10-67
2-24,3-3
65-70,46-66
1-78,2-77
71-95,17-72
25-88,88-89
13-98,14-14
7-81,7-8
8-99,8-98
13-97,14-97
3-56,3-4
89-99,29-73
41-50,28-51
76-88,76-87
82-96,25-31
30-41,8-42
27-39,38-38
46-71,46-71
23-88,10-88
28-83,28-84
82-94,81-86
99-99,1-99
4-46,4-63
7-68,67-99
5-92,93-97
91-95,3-89
57-76,3-70
1-89,53-88
4-32,6-31
75-76,2-76
17-17,18-37
43-90,89-94
4-65,1-66
88-91,90-91
43-57,44-84
2-95,2-94
3-31,1-32
12-94,30-93
12-94,5-94
35-54,34-54
30-81,30-30
51-53,52-98
68-97,41-69
32-94,19-31
14-70,7-15
1-99,41-98
41-63,41-63
88-88,27-87
54-56,53-55
26-26,27-71
29-64,1-62
4-54,1-92
88-89,22-89
15-88,15-16
21-95,43-96
12-13,12-27
10-96,23-96
82-83,22-83
13-85,13-86
77-83,4-65
3-91,3-63
73-98,73-98
49-49,8-50
3-96,4-4";
    Console.WriteLine(data.Replace("\r", "").Split("\n").Count(line => {
        var parts = line.Split(",");
        var a = parts[0].ParseRange();
        var b = parts[1].ParseRange();
        return a.Covers(b) || b.Covers(a);
    }));
    Console.WriteLine(data.Replace("\r", "").Split("\n").Count(line => {
        var parts = line.Split(",");
        var a = parts[0].ParseRange();
        var b = parts[1].ParseRange();
        return !(a.IsClear(b) || b.IsClear(a));
    }));
}
void p5() {
    var data =
@"move 1 from 8 to 4
move 1 from 7 to 8
move 1 from 6 to 3
move 2 from 6 to 5
move 8 from 5 to 1
move 5 from 3 to 8
move 1 from 7 to 8
move 8 from 1 to 2
move 3 from 3 to 9
move 13 from 8 to 7
move 2 from 1 to 2
move 1 from 6 to 2
move 2 from 1 to 7
move 4 from 4 to 2
move 10 from 9 to 4
move 7 from 4 to 1
move 1 from 6 to 7
move 2 from 4 to 5
move 1 from 5 to 2
move 1 from 5 to 8
move 3 from 1 to 5
move 2 from 4 to 6
move 2 from 6 to 4
move 2 from 4 to 5
move 5 from 1 to 5
move 1 from 9 to 5
move 1 from 8 to 5
move 14 from 2 to 6
move 12 from 7 to 4
move 4 from 6 to 7
move 3 from 6 to 4
move 4 from 4 to 9
move 2 from 4 to 6
move 2 from 9 to 3
move 9 from 4 to 3
move 2 from 1 to 6
move 5 from 7 to 3
move 4 from 7 to 8
move 2 from 6 to 7
move 3 from 6 to 7
move 10 from 5 to 8
move 8 from 8 to 9
move 10 from 9 to 7
move 12 from 7 to 5
move 1 from 1 to 5
move 3 from 7 to 2
move 10 from 3 to 7
move 6 from 5 to 7
move 2 from 6 to 1
move 12 from 2 to 7
move 3 from 3 to 1
move 1 from 6 to 5
move 10 from 5 to 7
move 3 from 3 to 4
move 34 from 7 to 1
move 2 from 6 to 9
move 1 from 6 to 3
move 3 from 1 to 3
move 1 from 7 to 3
move 3 from 3 to 6
move 1 from 4 to 3
move 22 from 1 to 6
move 2 from 9 to 7
move 2 from 4 to 9
move 12 from 6 to 8
move 1 from 7 to 6
move 4 from 8 to 2
move 1 from 7 to 1
move 6 from 8 to 9
move 1 from 2 to 5
move 1 from 2 to 7
move 13 from 1 to 2
move 2 from 3 to 1
move 4 from 7 to 5
move 3 from 9 to 4
move 1 from 1 to 8
move 4 from 5 to 2
move 12 from 6 to 2
move 3 from 1 to 3
move 1 from 4 to 1
move 9 from 8 to 5
move 6 from 5 to 7
move 2 from 4 to 5
move 5 from 9 to 6
move 5 from 3 to 7
move 30 from 2 to 6
move 11 from 7 to 9
move 36 from 6 to 3
move 10 from 9 to 3
move 1 from 6 to 5
move 3 from 5 to 2
move 2 from 5 to 2
move 28 from 3 to 4
move 6 from 4 to 1
move 1 from 2 to 3
move 2 from 5 to 2
move 6 from 1 to 7
move 1 from 1 to 6
move 6 from 3 to 5
move 6 from 7 to 2
move 1 from 6 to 4
move 2 from 2 to 6
move 8 from 2 to 1
move 3 from 2 to 4
move 2 from 3 to 4
move 4 from 3 to 4
move 1 from 6 to 1
move 2 from 1 to 8
move 1 from 6 to 4
move 1 from 9 to 3
move 2 from 5 to 4
move 1 from 8 to 7
move 1 from 7 to 9
move 1 from 3 to 5
move 1 from 8 to 6
move 34 from 4 to 9
move 13 from 9 to 8
move 1 from 8 to 2
move 1 from 2 to 1
move 4 from 5 to 1
move 9 from 8 to 7
move 11 from 1 to 3
move 1 from 4 to 2
move 1 from 6 to 7
move 1 from 9 to 4
move 1 from 4 to 1
move 1 from 5 to 3
move 5 from 7 to 8
move 1 from 2 to 5
move 1 from 5 to 1
move 21 from 9 to 5
move 19 from 3 to 4
move 17 from 4 to 6
move 2 from 8 to 4
move 2 from 6 to 8
move 2 from 6 to 9
move 2 from 7 to 6
move 1 from 4 to 9
move 6 from 5 to 6
move 1 from 9 to 8
move 8 from 5 to 7
move 15 from 6 to 2
move 1 from 9 to 7
move 2 from 1 to 6
move 3 from 4 to 7
move 1 from 1 to 6
move 3 from 5 to 4
move 2 from 5 to 6
move 2 from 4 to 1
move 13 from 7 to 8
move 2 from 6 to 4
move 3 from 2 to 4
move 2 from 7 to 6
move 5 from 4 to 6
move 4 from 2 to 6
move 1 from 1 to 9
move 18 from 8 to 3
move 1 from 4 to 5
move 1 from 2 to 7
move 15 from 3 to 1
move 1 from 5 to 1
move 3 from 3 to 4
move 1 from 5 to 4
move 1 from 5 to 6
move 1 from 6 to 8
move 2 from 8 to 2
move 3 from 1 to 8
move 6 from 2 to 8
move 1 from 7 to 6
move 12 from 8 to 5
move 2 from 9 to 6
move 6 from 1 to 5
move 9 from 5 to 3
move 1 from 2 to 8
move 20 from 6 to 9
move 3 from 6 to 7
move 1 from 7 to 1
move 7 from 3 to 4
move 2 from 7 to 2
move 1 from 8 to 7
move 8 from 4 to 1
move 11 from 1 to 7
move 10 from 7 to 6
move 2 from 4 to 9
move 21 from 9 to 3
move 6 from 5 to 9
move 6 from 3 to 2
move 1 from 4 to 5
move 1 from 7 to 9
move 8 from 3 to 2
move 9 from 2 to 1
move 14 from 1 to 6
move 1 from 1 to 7
move 4 from 3 to 8
move 3 from 8 to 7
move 5 from 7 to 4
move 3 from 6 to 9
move 2 from 3 to 7
move 3 from 5 to 6
move 1 from 5 to 6
move 2 from 7 to 9
move 1 from 8 to 3
move 22 from 6 to 5
move 3 from 9 to 4
move 3 from 6 to 1
move 5 from 4 to 6
move 9 from 2 to 8
move 4 from 6 to 1
move 1 from 3 to 2
move 1 from 2 to 3
move 6 from 8 to 1
move 2 from 4 to 3
move 10 from 1 to 7
move 2 from 8 to 7
move 1 from 9 to 6
move 4 from 3 to 5
move 1 from 8 to 3
move 4 from 9 to 8
move 1 from 4 to 3
move 1 from 3 to 8
move 3 from 7 to 6
move 1 from 1 to 5
move 10 from 5 to 9
move 5 from 6 to 4
move 5 from 8 to 5
move 4 from 9 to 8
move 3 from 3 to 9
move 2 from 8 to 6
move 5 from 7 to 5
move 1 from 4 to 1
move 1 from 1 to 2
move 2 from 8 to 6
move 1 from 2 to 1
move 1 from 7 to 2
move 1 from 1 to 5
move 28 from 5 to 9
move 3 from 6 to 1
move 1 from 6 to 9
move 1 from 2 to 9
move 2 from 1 to 2
move 2 from 7 to 5
move 1 from 7 to 5
move 1 from 2 to 5
move 3 from 1 to 9
move 1 from 5 to 8
move 15 from 9 to 2
move 11 from 9 to 4
move 11 from 4 to 7
move 2 from 4 to 1
move 7 from 7 to 8
move 1 from 1 to 4
move 20 from 9 to 1
move 2 from 7 to 8
move 1 from 4 to 6
move 1 from 6 to 2
move 2 from 7 to 5
move 1 from 9 to 6
move 1 from 4 to 9
move 4 from 5 to 2
move 1 from 6 to 8
move 1 from 4 to 9
move 11 from 8 to 3
move 1 from 1 to 9
move 1 from 5 to 9
move 1 from 2 to 6
move 4 from 9 to 8
move 4 from 8 to 7
move 10 from 1 to 6
move 7 from 1 to 5
move 8 from 3 to 4
move 2 from 3 to 5
move 3 from 7 to 4
move 1 from 4 to 5
move 2 from 1 to 6
move 9 from 2 to 6
move 1 from 7 to 9
move 1 from 3 to 2
move 7 from 4 to 3
move 3 from 3 to 7
move 5 from 2 to 3
move 1 from 1 to 9
move 2 from 2 to 7
move 1 from 4 to 6
move 3 from 5 to 6
move 4 from 7 to 6
move 1 from 7 to 4
move 1 from 4 to 7
move 1 from 2 to 8
move 1 from 7 to 1
move 27 from 6 to 2
move 1 from 4 to 1
move 7 from 5 to 7
move 1 from 4 to 1
move 1 from 8 to 3
move 3 from 7 to 3
move 2 from 1 to 6
move 2 from 9 to 1
move 18 from 2 to 1
move 2 from 7 to 5
move 12 from 3 to 4
move 1 from 5 to 6
move 3 from 6 to 1
move 24 from 1 to 8
move 9 from 2 to 4
move 3 from 2 to 1
move 2 from 6 to 3
move 1 from 6 to 9
move 1 from 5 to 6
move 1 from 6 to 2
move 1 from 1 to 7
move 1 from 2 to 1
move 1 from 1 to 2
move 3 from 7 to 2
move 2 from 1 to 4
move 8 from 4 to 5
move 22 from 8 to 1
move 1 from 8 to 1
move 13 from 4 to 1
move 1 from 8 to 5
move 3 from 3 to 1
move 1 from 2 to 7
move 38 from 1 to 6
move 27 from 6 to 1
move 2 from 2 to 9
move 3 from 9 to 8
move 2 from 8 to 6
move 1 from 8 to 3
move 1 from 2 to 1
move 1 from 3 to 6
move 1 from 2 to 3
move 1 from 7 to 6
move 7 from 6 to 3
move 20 from 1 to 4
move 6 from 1 to 6
move 17 from 4 to 7
move 3 from 6 to 5
move 14 from 7 to 9
move 8 from 5 to 7
move 3 from 1 to 6
move 3 from 3 to 1
move 2 from 4 to 1
move 4 from 5 to 1
move 9 from 6 to 2
move 3 from 6 to 4
move 4 from 7 to 8
move 4 from 1 to 6
move 2 from 3 to 1
move 6 from 6 to 7
move 4 from 8 to 7
move 4 from 2 to 1
move 4 from 2 to 3
move 4 from 9 to 5
move 8 from 9 to 5
move 1 from 9 to 5
move 1 from 2 to 1
move 16 from 7 to 2
move 10 from 2 to 9
move 11 from 9 to 8
move 4 from 3 to 5
move 3 from 1 to 4
move 13 from 5 to 7
move 10 from 8 to 5
move 2 from 1 to 5
move 11 from 7 to 4
move 2 from 3 to 6
move 3 from 7 to 6
move 1 from 3 to 2
move 1 from 1 to 8
move 2 from 8 to 4
move 3 from 1 to 2
move 4 from 6 to 1
move 7 from 1 to 9
move 1 from 6 to 7
move 2 from 5 to 8
move 1 from 2 to 9
move 1 from 7 to 8
move 5 from 5 to 8
move 1 from 2 to 3
move 4 from 2 to 5
move 17 from 4 to 1
move 10 from 5 to 9
move 2 from 4 to 2
move 2 from 4 to 1
move 1 from 4 to 9
move 1 from 3 to 7
move 1 from 7 to 8
move 12 from 9 to 2
move 1 from 2 to 4
move 1 from 4 to 1
move 1 from 1 to 9
move 1 from 8 to 1
move 8 from 8 to 3
move 2 from 5 to 1
move 3 from 1 to 9
move 1 from 2 to 6
move 4 from 3 to 7
move 1 from 7 to 6
move 10 from 9 to 2
move 1 from 5 to 9
move 1 from 9 to 3
move 17 from 1 to 6
move 2 from 1 to 2
move 11 from 6 to 7
move 2 from 2 to 9
move 2 from 9 to 5
move 12 from 7 to 9
move 20 from 2 to 7
move 5 from 9 to 5
move 21 from 7 to 1
move 2 from 6 to 4
move 11 from 1 to 4
move 5 from 4 to 6
move 1 from 7 to 8
move 5 from 9 to 3
move 5 from 2 to 8
move 3 from 9 to 3
move 2 from 8 to 7
move 2 from 1 to 7
move 10 from 6 to 3
move 1 from 2 to 6
move 2 from 8 to 5
move 1 from 6 to 5
move 2 from 4 to 9
move 1 from 4 to 5
move 8 from 1 to 6
move 4 from 4 to 8
move 6 from 8 to 4
move 21 from 3 to 9
move 5 from 9 to 2
move 4 from 7 to 9
move 22 from 9 to 3
move 9 from 6 to 4
move 2 from 2 to 6
move 2 from 2 to 1
move 2 from 5 to 7
move 7 from 5 to 4
move 22 from 4 to 2
move 2 from 5 to 4
move 16 from 2 to 5
move 2 from 6 to 2
move 13 from 3 to 4
move 5 from 5 to 7
move 15 from 4 to 7
move 3 from 2 to 3
move 3 from 2 to 5
move 1 from 1 to 2
move 1 from 2 to 4
move 6 from 5 to 9
move 4 from 3 to 6
move 2 from 5 to 9
move 1 from 2 to 7
move 1 from 1 to 9
move 2 from 4 to 5
move 19 from 7 to 8
move 1 from 6 to 5
move 1 from 5 to 1
move 1 from 9 to 4
move 5 from 8 to 1
move 3 from 8 to 1
move 7 from 5 to 6
move 3 from 7 to 1
move 1 from 2 to 5
move 4 from 9 to 8
move 2 from 5 to 6
move 10 from 1 to 4
move 1 from 7 to 2
move 6 from 3 to 4
move 9 from 4 to 3
move 2 from 2 to 8
move 2 from 9 to 5
move 5 from 8 to 3
move 1 from 1 to 5
move 2 from 5 to 6
move 1 from 1 to 7
move 2 from 9 to 7
move 8 from 4 to 7
move 3 from 3 to 9
move 4 from 6 to 3
move 1 from 5 to 3
move 1 from 7 to 2
move 1 from 2 to 1
move 1 from 6 to 5
move 1 from 5 to 2
move 10 from 7 to 4
move 10 from 4 to 1
move 10 from 1 to 8
move 1 from 9 to 6
move 1 from 1 to 4
move 11 from 8 to 1
move 2 from 9 to 5
move 5 from 6 to 3
move 1 from 3 to 8
move 4 from 1 to 3
move 5 from 3 to 8
move 1 from 4 to 7
move 1 from 7 to 2
move 13 from 3 to 5
move 2 from 2 to 1
move 4 from 3 to 1
move 4 from 5 to 6
move 3 from 6 to 2
move 4 from 5 to 4
move 8 from 8 to 7
move 1 from 3 to 9";
    {
        LinkedList<char>[] stacks = {
        new("JHPMSFNV"),
        new("SRLMJDQ"),
        new("NQDHCSWB"),
        new("RSCL"),
        new("MVTPFB"),
        new("TRQNC"),
        new("GVR"),
        new("CZSPDLR"),
        new("DSJVGPBF")
    };
        IEnumerable<T> PopFrom<T>(LinkedList<T> l, int count) {
            return Enumerable.Range(0, count).Select(i => {
                var item = l.Last();
                l.RemoveLast();
                return item;
            }).ToList();
        }
        void PushTo<T>(LinkedList<T> l, IEnumerable<T> tt) {
            //Console.WriteLine("Pushing " + String.Join(" ", tt));

            foreach (var t in tt) {
                l.AddLast(t);
            }
        }

        data.Replace("\r", "").Split("\n").ToList().ForEach(line => {
            var m = new Regex("move (?<count>[0-9]+) from (?<from>[0-9]+) to (?<to>[0-9]+)").Match(line);
            var count = int.Parse(m.Groups["count"].Value);
            var from = int.Parse(m.Groups["from"].Value) - 1;
            var to = int.Parse(m.Groups["to"].Value) - 1;
            PushTo(stacks[to], PopFrom(stacks[from], count));
        });
        //stacks.ToList().Select(s => string.Join("", s)).ToList().ForEach(Console.WriteLine);
        stacks.Select(s => s.Last()).ToList().ForEach(Console.Write);
    }
    Console.WriteLine();
    {

        LinkedList<char>[] stacks = {
        new("JHPMSFNV"),
        new("SRLMJDQ"),
        new("NQDHCSWB"),
        new("RSCL"),
        new("MVTPFB"),
        new("TRQNC"),
        new("GVR"),
        new("CZSPDLR"),
        new("DSJVGPBF")
    };
        IEnumerable<T> PopFrom<T>(LinkedList<T> l, int count) {
            return Enumerable.Range(0, count).Select(i => {
                var item = l.Last();
                l.RemoveLast();
                return item;
            }).Reverse().ToList();
        }
        void PushTo<T>(LinkedList<T> l, IEnumerable<T> tt) {
            //Console.WriteLine("Pushing " + String.Join(" ", tt));

            foreach (var t in tt) {
                l.AddLast(t);
            }
        }

        data.Replace("\r", "").Split("\n").ToList().ForEach(line => {
            var m = new Regex("move (?<count>[0-9]+) from (?<from>[0-9]+) to (?<to>[0-9]+)").Match(line);
            var count = int.Parse(m.Groups["count"].Value);
            var from = int.Parse(m.Groups["from"].Value) - 1;
            var to = int.Parse(m.Groups["to"].Value) - 1;
            PushTo(stacks[to], PopFrom(stacks[from], count));
        });
        //stacks.ToList().Select(s => string.Join("", s)).ToList().ForEach(Console.WriteLine);
        stacks.Select(s => s.Last()).ToList().ForEach(Console.Write);
    }
}
static class A {
    public static IEnumerable<(T, T, T)> Chunk<T>(this T[] t) {
        for(int i = 0; i < t.Length; i += 3) {
            yield return (t[i], t[i+1], t[i+2]);
        }
        yield break;
    }
    public static bool Covers(this Range a, Range b) =>
        a.Start.Value <= b.Start.Value && a.End.Value >= b.End.Value;
    public static bool IsClear(this Range a, Range b) =>
        a.End.Value <= b.Start.Value;
    public static Range ParseRange(this string s) {
        var parts = s.Split("-");
        return int.Parse(parts[0])..(int.Parse(parts[1]) + 1);
    }
    public static IEnumerable<int> ToRange(this string s) {
        var parts = s.Split("-");
        var start = int.Parse(parts[0]);
        return Enumerable.Range(start, int.Parse(parts[1]) - start + 1);
    }
}